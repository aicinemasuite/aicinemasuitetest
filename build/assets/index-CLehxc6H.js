import{r as d,a as na,R as hs}from"./vendor-wGySg1uH.js";import{M as la,G as oa}from"./genai-CNyckT_D.js";import{P as us,C as ps,B as gs,S as bs,U as fs,L as vs,a as js,M as Ns,I as ws,b as ys,V as zs,F as ca,c as Ss,d as Cs,R as ks,e as da,f as xa,g as st,h as ma,i as ha,T as ua,j as pa,Y as ga,k as ba,G as fa,A as va,H as ja,l as Na,E as wa,m as ya,n as za,o as Sa,X as Ca,p as ka,q as Ia,K as Aa,r as Ta,s as Ea,t as Ra,u as Pa,v as La,w as Da,x as Oa,y as _a,W as Ma,z as Ua,D as Fa,J as Ga,N as $a,O as Ba,Q as Ha,Z as Va,_ as Wa,$ as Ya,a0 as Ka,a1 as qa,a2 as Ja,a3 as Is,a4 as Xa,a5 as Qa,a6 as Za,a7 as ei,a8 as ti,a9 as si}from"./icons-CPz7VKPp.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const x of n)if(x.type==="childList")for(const c of x.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function l(n){const x={};return n.integrity&&(x.integrity=n.integrity),n.referrerPolicy&&(x.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?x.credentials="include":n.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function o(n){if(n.ep)return;n.ep=!0;const x=l(n);fetch(n.href,x)}})();var As={exports:{}},pt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=d,ii=Symbol.for("react.element"),ri=Symbol.for("react.fragment"),ni=Object.prototype.hasOwnProperty,li=ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oi={key:!0,ref:!0,__self:!0,__source:!0};function Ts(s,i,l){var o,n={},x=null,c=null;l!==void 0&&(x=""+l),i.key!==void 0&&(x=""+i.key),i.ref!==void 0&&(c=i.ref);for(o in i)ni.call(i,o)&&!oi.hasOwnProperty(o)&&(n[o]=i[o]);if(s&&s.defaultProps)for(o in i=s.defaultProps,i)n[o]===void 0&&(n[o]=i[o]);return{$$typeof:ii,type:s,key:x,ref:c,props:n,_owner:li.current}}pt.Fragment=ri;pt.jsx=Ts;pt.jsxs=Ts;As.exports=pt;var e=As.exports,St={},ns=na;St.createRoot=ns.createRoot,St.hydrateRoot=ns.hydrateRoot;var K=(s=>(s.FEATURE_FILM="FEATURE_FILM",s.SHORT_FILM="SHORT_FILM",s.DOCUMENTARY="DOCUMENTARY",s.STARTUP_PITCH="STARTUP_PITCH",s.MUSIC_VIDEO="MUSIC_VIDEO",s))(K||{}),le=(s=>(s.PITCH_DECK="PITCH_DECK",s.STORYBOARD="STORYBOARD",s.CHARACTER_LAB="CHARACTER_LAB",s.POSTER_LOFT="POSTER_LOFT",s.TRAILER_GEN="TRAILER_GEN",s.SOUND_STAGE="SOUND_STAGE",s.LOCATION_SCOUT="LOCATION_SCOUT",s.SCRIPT_MAGIC="SCRIPT_MAGIC",s.CAST_CREW="CAST_CREW",s.CINEMA_VAULT="CINEMA_VAULT",s.BUDGET_FORGE="BUDGET_FORGE",s))(le||{}),X=(s=>(s.AUTH="AUTH",s.PROFILE="PROFILE",s.ADMIN="ADMIN",s.SETUP="SETUP",s.STRUCTURE="STRUCTURE",s.STUDIO="STUDIO",s.PRESENTATION="PRESENTATION",s))(X||{});const a={Clapperboard:xa,Layout:us,Play:La,Plus:_a,Save:Oa,Trash2:Ga,Upload:Da,Wand2:Ma,ChevronLeft:Ta,ChevronRight:ti,Maximize2:ei,Minimize2:Na,Image:ws,Grid:Is,FileText:Cs,Video:zs,User:st,Settings:ma,LogOut:Ra,HelpCircle:ja,Briefcase:$a,Activity:Wa,Users:js,Rocket:ks,Camera:Ss,RectangleHorizontal:qa,RectangleVertical:Ya,Square:Ka,Layers:vs,Eye:Xa,ArrowRight:Ia,ArrowUp:Qa,Aperture:Za,ShieldCheck:Ea,Zap:si,Mic:ys,MapPin:Ns,Globe:fa,Calculator:ps,Coins:Ua,ExternalLink:wa,Check:za,Archive:Ba,X:Ca,Download:Fa,Info:Sa,RotateCcw:Pa,ScrollText:bs,Sparkles:ka,UserPlus:fs,Box:gs,File:Ha,MessageSquare:ya,AlertTriangle:va,Loader2:Va,Key:Aa,Youtube:ga,Facebook:ha,Twitter:ua,Instagram:pa,Linkedin:ba},ls=[{title:"The Hook (Opening Image)",description:"Establish the mood and world."},{title:"The Hero Introduction",description:"Mass entry or character establish."},{title:"The Inciting Incident",description:"The problem starts."},{title:"Plot Point 1",description:"Hero accepts the mission/journey."},{title:"The B-Plot Entry",description:"Love interest, comedy track, or sub-plot."},{title:"The Midpoint Build-up",description:"Tension rises significantly."},{title:"The Interval Block (The Twist)",description:"The shocking cliffhanger."},{title:"The Re-Opening",description:"Immediate aftermath of the interval."},{title:"The Low Point",description:"Hero fails or loses hope."},{title:"The Climax Setup",description:"Preparing for the final battle."},{title:"The Grand Climax",description:"Resolution and final confrontation."},{title:"The Tail-End (Punch)",description:"Final shot or sequel hint."}],ut="https://picsum.photos/1920/1080";le.PITCH_DECK,us,le.BUDGET_FORGE,ps,le.CINEMA_VAULT,gs,le.SCRIPT_MAGIC,bs,le.CAST_CREW,fs,le.STORYBOARD,vs,le.CHARACTER_LAB,js,le.LOCATION_SCOUT,Ns,le.POSTER_LOFT,ws,le.SOUND_STAGE,ys,le.TRAILER_GEN,zs;const ci=[{id:K.FEATURE_FILM,label:"Feature Film",icon:ca,desc:"Full-length cinematic pitch deck"},{id:K.SHORT_FILM,label:"Short Film",icon:Ss,desc:"Concise artistic statement"},{id:K.DOCUMENTARY,label:"Documentary",icon:Cs,desc:"Real-world stories & facts"},{id:K.STARTUP_PITCH,label:"Startup Pitch",icon:ks,desc:"Business model & solution"},{id:K.MUSIC_VIDEO,label:"Music Video",icon:da,desc:"Visuals synced to audio"}],di={[K.FEATURE_FILM]:["Action","Adventure","Comedy","Crime","Drama","Fantasy","Horror","Mystery","Romance","Sci-Fi","Thriller","Western","Musical","Noir"],[K.SHORT_FILM]:["Drama","Comedy","Horror","Experimental","Animation","Social Awareness","Thriller"],[K.DOCUMENTARY]:["Nature / Wildlife","History","Biography","True Crime","Social Issue","Science & Tech","Travel","Politics","Music"],[K.STARTUP_PITCH]:["Technology (SaaS)","Fintech","HealthTech","E-commerce","EdTech","GreenTech / Sustainability","AI / ML","Consumer App","Hardware"],[K.MUSIC_VIDEO]:["Pop","Hip Hop / Rap","Rock","Indie / Alternative","Electronic / EDM","R&B","Classical","Folk","Metal"]},os={[K.FEATURE_FILM]:[{title:"Title Poster",description:"The visual face of your film",placeholderText:"Title, Tagline, and a striking key visual."},{title:"Logline & Hook",description:"The elevator pitch",placeholderText:"A one-sentence summary that hooks the reader instantly."},{title:"Story Synopsis",description:"The narrative arc",placeholderText:"A compelling summary of the plot (Act 1, 2, 3)."},{title:"Hero Character",description:"Protagonist details",placeholderText:"Name, Age, Core Desire, and Flaw."},{title:"Antagonist",description:"The villain or force of opposition",placeholderText:"Who stops the hero? What do they want?"},{title:"Key Supporting Cast",description:"Allies and mentors",placeholderText:"Brief descriptions of 2-3 other key characters."},{title:"Visual Style",description:"Cinematography & tone",placeholderText:"Lighting, color palette, camera movement, and mood."},{title:"Key Scenes",description:"Signature moments",placeholderText:"Describe 3 unforgettable visual moments from the film."},{title:"Theme & Tone",description:"Emotional core",placeholderText:"What is the film really about? (Love, Revenge, Survival?)"},{title:"Story World",description:"Setting & locations",placeholderText:"Where does it take place? What makes the world unique?"},{title:"Director's Vision",description:"Why this film?",placeholderText:"Your personal connection and directorial approach."},{title:"Moodboard",description:"Visual collage",placeholderText:"Textures, colors, and feelings (Use images mostly)."},{title:"Target Audience",description:"Who will watch this?",placeholderText:"Demographics, psychographics, and similar film fans."},{title:"Comparable Films",description:"Market references",placeholderText:"Film A meets Film B."},{title:"Budget & ROI",description:"Financial overview",placeholderText:"Estimated budget and potential box office returns."},{title:"Production Timeline",description:"Schedule",placeholderText:"Pre-production, Shooting, and Post-production dates."},{title:"Marketing Strategy",description:"Distribution plan",placeholderText:"Festivals, Theatrical release, OTT strategy."},{title:"Team Profiles",description:"Key crew",placeholderText:"Writer, Director, Producer bios."},{title:"Music & Sound",description:"Auditory landscape",placeholderText:"Score style, key songs, sound design notes."},{title:"End Credits",description:"Contact info",placeholderText:"Production company contact details and rights info."}],[K.SHORT_FILM]:[{title:"Title Card",description:"Film Identity",placeholderText:"Title and Tagline."},{title:"Concept & Theme",description:"Core Idea",placeholderText:"The central metaphor or message."},{title:"Character Study",description:"Protagonist",placeholderText:"Who are we following?"},{title:"Visual Aesthetic",description:"Look & Feel",placeholderText:"Camera style and color grading."},{title:"Script Summary",description:"Plot",placeholderText:"Beginning, Middle, End."},{title:"Distribution Plan",description:"Festival Circuit",placeholderText:"Target festivals and online platforms."},{title:"Budget Estimation",description:"Cost breakdown",placeholderText:"Production costs and funding sources."}],[K.DOCUMENTARY]:[{title:"Title & Subject",description:"The Topic",placeholderText:"What is this documentary about?"},{title:"The 'Why Now?'",description:"Relevance",placeholderText:"Why does this story need to be told today?"},{title:"Subject Access",description:"Feasibility",placeholderText:"Who are you interviewing? Do you have access?"},{title:"Narrative Arc",description:"Story structure",placeholderText:"How will the story unfold?"},{title:"Visual Approach",description:"Style",placeholderText:"Observational, Archival, Re-enactment?"},{title:"Impact Campaign",description:"Social Goal",placeholderText:"What change do you want to create?"},{title:"Budget & Funding",description:"Financials",placeholderText:"Grant requirements and total budget."}],[K.STARTUP_PITCH]:[{title:"Cover Slide",description:"Company Intro",placeholderText:"Logo and One-liner."},{title:"The Problem",description:"Pain Point",placeholderText:"What is broken in the market?"},{title:"The Solution",description:"Product/Service",placeholderText:"How do you solve it?"},{title:"Market Size",description:"TAM/SAM/SOM",placeholderText:"How big is the opportunity?"},{title:"Business Model",description:"Revenue",placeholderText:"How do you make money?"},{title:"Competition",description:"Landscape",placeholderText:"Who else is doing this? Why are you better?"},{title:"Go-to-Market",description:"Strategy",placeholderText:"How will you get customers?"},{title:"Team",description:"Founders",placeholderText:"Why are you the right team?"},{title:"Financial Projections",description:"Growth",placeholderText:"Revenue goals for next 3-5 years."}],[K.MUSIC_VIDEO]:[{title:"Track Title & Artist",description:"Song Info",placeholderText:"Artist name and Track title."},{title:"Concept Note",description:"Core Idea",placeholderText:"The visual hook."},{title:"Lyrics & Themes",description:"Interpretation",placeholderText:"Key lyrics and their visual meaning."},{title:"Visual References",description:"Inspiration",placeholderText:"Images that inspire the look."},{title:"Color Palette",description:"Colors",placeholderText:"Primary and secondary colors."},{title:"Styling & Costume",description:"Wardrobe",placeholderText:"Look for the artist/actors."},{title:"Locations",description:"Settings",placeholderText:"Where will it be shot?"},{title:"Production Timeline",description:"Schedule",placeholderText:"Shoot dates and edit deadline."}]},xi=["Protagonist (Hero)","Antagonist (Villain)","Supporting Character","Love Interest","Mentor / Guide","Comic Relief","Extra / Background"],mi=["Photorealistic Cinematic","3D Pixar/Disney Style","2D Anime / Manga","Hand-Drawn Sketch","Oil Painting","Cyberpunk / Sci-Fi","Fantasy RPG Concept","Noir Black & White","Claymation Style","Watercolor Illustration"],hi=["Hyper Realistic","Digital Painting","3D Render (Pixar/Disney)","Charcoal Sketch","Ink Illustration (Graphic Novel)","Watercolor Concept","Anime Style","Pencil Sketch (Loose)","Blueprint / Technical","Minimalist Vector"],ui=["Center Hero (Focus on Protagonist)","Floating Heads (Ensemble Cast)","Minimalist Symbolism (Iconic)","Double Exposure (Character + Landscape)","Action Collage (Dynamic)","Negative Space (Horror/Thriller)","Back Turned (Mystery)"],pi=["Teal & Orange (Blockbuster)","Neon & Cyber (Sci-Fi/Action)","Black & White with Red (Sin City style)","Desaturated / Gritty (War/Drama)","Pastel & Soft (Romance/Indie)","High Contrast / Chiaroscuro (Noir)","Vibrant & Saturated (Animation/Comedy)","Sepia / Vintage (Period Piece)"],gi=["Ectomorph (Lean / Lanky)","Mesomorph (Muscular / Athletic)","Endomorph (Soft / Round)","Average Build","Heavy Set"],bi=["Stoic (No emotion)","Manic / Crazy","Suspicious / Glaring","Grief-stricken","Flirtatious / Smirking","Determined / Intense","Joyful / Radiant","Terrified / Shocked","Melancholic","Rage / Screaming"],fi=["Christopher Nolan (IMAX scale, Practical effects, Time manipulation)","Wes Anderson (Symmetry, Pastel Palette, Flat composition)","Satyajit Ray (Humanism, Natural lighting, Realistic composition)","S.S. Rajamouli (Grandeur, Epic scale, Mythic lighting)","Mani Ratnam (Silhouette lighting, Realistic textures, Intimate grandeur)","Quentin Tarantino (Crash zooms, Low angles, Vibrant colors)","Roger Deakins (Cinematographer - Silhouettes, Practical lighting)","Zack Snyder (High contrast, Slow motion, Speed ramping)","Ridley Scott (Atmospheric, Smoke/Haze, High detail)","Denis Villeneuve (Brutalist architecture, Minimalist, Scale)","Wong Kar-wai (Step-printing, Neon, Motion blur, Intimacy)","Steven Spielberg (Backlighting, Wonder, Smooth tracking)","Lijo Jose Pellissery (Chaos, Long takes, Crowd dynamics)","Amal Neerad (Slow motion, Stylish framing, High contrast)","Anjali Menon (Warm tones, Naturalistic, Emotional intimacy)","Stanley Kubrick (One-point perspective, Clinical detachment)","Tim Burton (Gothic, German Expressionism, Whimsical dark)","David Fincher (Low key lighting, Green/Yellow tint, Controlled)","Greta Gerwig (Warmth, Soft focus, Emotional framing)","Bong Joon-ho (Sharp focus, Genre-bending, Dynamic staging)"],vi=["The Matrix (Green tint, Cyberpunk, High tech)","John Wick (Neon noir, Wet streets, High contrast)","Gladiator (Golden hour, Dust, Epic scale)","300 (High contrast, Desaturated, Graphic novel look)","Blade Runner 2049 (Neon fog, Orange/Teal, Brutalist)","Mad Max: Fury Road (Saturated Orange/Blue, High octane)","The Godfather (Warm, Top lighting, Shadows)","Inception (Clean, Modern, Architectural, Mind-bending)","Her (Soft, Warm, Pastel, Near-future)","Sin City (Black & White, Splash of color, Comic book)","La La Land (Vibrant primaries, Dreamy, Technicolor homage)","Dune (Monochromatic, Sand, Scale, Atmospheric)","Moonlight (High contrast, Vibrant skin tones, Neon)","Joker (Gritty, Urban decay, Green/Orange fluorescent)","Barbie (Saturated Pink/Blue, Plastic textures, High Key)","Oppenheimer (Desaturated, High Contrast B&W + Color, Grainy)","Interstellar (Deep space blacks, Realistic textures, IMAX aspect)","Amelie (Saturated Green/Red, Warm, Magical Realism)","Kill Bill (Yellow/Black, High Contrast, Anime-influenced)","Grand Budapest Hotel (Pastel Pink/Blue, Flat lighting)","Seven (Bleach bypass, High contrast, Grimy/Wet)","Tron Legacy (Neon Blue/Orange, High contrast black)","Avatar (Bioluminescent, Vibrant Jungle, High Saturation)"],ji=[{id:"XCU",label:"XCU (Extreme Close Up)",icon:Ja},{id:"CU",label:"CU (Close Up)",icon:st},{id:"MCU",label:"MCU (Medium Close Up)",icon:st},{id:"COWBOY",label:"Cowboy (Mid-Thigh)",icon:st},{id:"FULL",label:"Full Shot (Head to Toe)",icon:st},{id:"WIDE",label:"Wide / Master",icon:Is}],Ni=[{id:"EYE",label:"Eye Level (Neutral)"},{id:"LOW",label:"Low Angle (Heroic)"},{id:"HIGH",label:"High Angle (Vulnerable)"},{id:"DUTCH",label:"Dutch Tilt (Unease)"},{id:"OVERHEAD",label:"Bird's Eye (God view)"}],wi=[{id:"14mm",label:"14mm (Ultra Wide)",desc:"Distorted, Epic"},{id:"24mm",label:"24mm (Wide)",desc:"Landscape, Context"},{id:"35mm",label:"35mm (Standard)",desc:"Human Eye"},{id:"50mm",label:"50mm (Portrait)",desc:"Neutral, Realistic"},{id:"85mm",label:"85mm (Telephoto)",desc:"Flattering, Compressed"},{id:"200mm",label:"200mm (Zoom)",desc:"Isolated, Flat"}],cs=[{id:"Puck",label:"Puck (Male, Playful)",gender:"Male"},{id:"Charon",label:"Charon (Male, Deep)",gender:"Male"},{id:"Kore",label:"Kore (Female, Calm)",gender:"Female"},{id:"Fenrir",label:"Fenrir (Male, Intense)",gender:"Male"},{id:"Aoede",label:"Aoede (Female, Expressive)",gender:"Female"}],Ct={en:{startProject:"Start Project",movieTitle:"Project Title",genre:"Genre / Category",director:"Creator Name",logline:"Logline / One-Liner",fullScript:"Full Script / Business Plan",uploadScript:"Upload File",structureTitle:"Structure Your Pitch",openStudio:"Open Studio",slideTitle:"Slide Title",action:"Action",addNewSlide:"Add New Slide",save:"Save",presentDeck:"Present Deck",slideDeck:"SLIDE DECK",storyBoard:"STORY BOARD",mediaLibrary:"TRAILER ROOM",characters:"CHARACTER LAB",posters:"POSTER LOFT",soundStage:"SOUND STAGE",locationScout:"Location Scout",scriptMagic:"Script Magic",castCrew:"Cast & Crew",cinemaVault:"Cinema Vault",budgetForge:"BudgetForge",addSlide:"Add Slide",textContent:"Text Content",aiWrite:"AI Write",visualAsset:"Visual Asset",aiPrompt:"AI Image Prompt",generateImage:"Generate Image",orUpload:"Or Upload",chooseFile:"Choose File",directorStyle:"Director / Visual Style",visualReference:"Visual Reference",generating:"Generating...",previewMode:"Preview Mode",resume:"Resume Last Project",uploadPlaceholder:"Paste your story here or upload a file...",addNextScene:"Add Next Scene (+)",usePrompt:"Use This Prompt",sceneHeading:"Scene Heading",plotAction:"Action / Plot",visualNote:"Visual Note",generateTrailer:"Generate AI Trailer",trailerPrompt:"Trailer Visual Description",myProfile:"My Profile",adminDashboard:"Admin Dashboard",logout:"Logout",helpFaq:"Help & FAQ",selectCategory:"Select Project Category",backToCategories:"Back to Categories",selectService:"What would you like to create?",quickStart:"Quick Start",generateAudio:"Generate Audio",voicePrompt:"Dialogue / Narration Text",industryParam:"Industry Scale",scaleParam:"Budget Scale",daysParam:"Shooting Days",currencyToggle:"Currency",calculateBtn:"Calculate Estimate",totalBudgetTitle:"Total Estimated Budget",riskTitle:"AI Risk Analysis",aboveLineTitle:"Above The Line (Creative)",belowLineTitle:"Below The Line (Production)",printBtn:"Save / Print Estimate",posterComposition:"Layout / Composition",posterPalette:"Color Palette",styleRef:"Style Reference Image"},ml:{startProject:"പ്രോജക്റ്റ് തുടങ്ങുക",movieTitle:"പ്രോജക്റ്റ് പേര്",genre:"തരം / ജേണർ",director:"സ്രഷ്ടാവ്",logline:"കഥാസാരം / ആശയം",fullScript:"മുഴുവൻ വിവരണം / തിരക്കഥ",uploadScript:"ഫയൽ അപ്‌ലോഡ്",structureTitle:"പിച്ച് ഡെക്ക് ഘടന",openStudio:"സ്റ്റുഡിയോ തുറക്കൂ",slideTitle:"സ്ലൈഡ് തലക്കെട്ട്",action:"പ്രവർത്തി",addNewSlide:"പുതിയ സ്ലൈഡ് ചേർക്കൂ",save:"സേവ് ചെയ്യുക",presentDeck:"പ്രസന്റേഷൻ",slideDeck:"സ്ലൈഡ് ഡെക്ക്",storyBoard:"സ്റ്റോറി ബോർഡ്",mediaLibrary:"ട്രെയിലർ റൂം",characters:"കഥാപാത്രങ്ങൾ",posters:"പോസ്റ്റർ ഡിസൈൻ",soundStage:"ശബ്ദ സ്റ്റുഡിയോ",locationScout:"ലൊക്കേഷൻ സ്കൗട്ട്",scriptMagic:"തിരക്കഥ മാജിക്",castCrew:"താരങ്ങളും അണിയറക്കാരും",cinemaVault:"സിനിമ വോൾട്ട്",budgetForge:"ബജറ്റ് ഫോർജ് (എസ്റ്റിമേറ്റ്)",addSlide:"സ്ലൈഡ് ചേർക്കുക",textContent:"ഉള്ളടക്കം (Text)",aiWrite:"AI എഴുതുക",visualAsset:"ദൃശ്യങ്ങൾ (Visuals)",aiPrompt:"AI ഇമേജ് വിവരണം",generateImage:"ചിത്രം സൃഷ്ടിക്കുക",orUpload:"അല്ലെങ്കിൽ അപ്‌ലോഡ്",chooseFile:"ഫയൽ തിരഞ്ഞെടുക്കൂ",directorStyle:"സംവിധാന ശൈലി",visualReference:"ദൃശ്യ മാതൃക",generating:"നിർമ്മിക്കുന്നു...",previewMode:"പ്രിവ്യൂ മോഡ്",resume:"മുമ്പത്തെ പ്രോജക്റ്റ് തുടരുക",uploadPlaceholder:"വിവരണം ഇവിടെ പേസ്റ്റ് ചെയ്യുക അല്ലെങ്കിൽ ഫയൽ അപ്‌ലോഡ് ചെയ്യുക...",addNextScene:"അടുത്ത സീൻ ചേർക്കുക (+)",usePrompt:"ഈ വിവരണം ഉപയോഗിക്കുക",sceneHeading:"സീൻ തലക്കെട്ട്",plotAction:"പ്രവർത്തി / കഥാസന്ദർഭം",visualNote:"ദൃശ്യ വിവരണം",generateTrailer:"AI ട്രെയിലർ നിർമ്മിക്കുക",trailerPrompt:"ട്രെയിലർ വിവരണം",myProfile:"എന്റെ പ്രൊഫൈൽ",adminDashboard:"അഡ്മിൻ ഡാഷ്ബോർഡ്",logout:"ലോഗൗട്ട്",helpFaq:"സഹായം / FAQ",selectCategory:"വിഭാഗം തിരഞ്ഞെടുക്കുക",backToCategories:"തിരികെ പോവുക",selectService:"നിങ്ങൾക്ക് എന്താണ് നിർമ്മിക്കേണ്ടത്?",quickStart:"വേഗത്തിൽ തുടങ്ങുക",generateAudio:"ശബ്ദം സൃഷ്ടിക്കുക",voicePrompt:"സംഭാഷണം / വിവരണം",industryParam:"സിനിമ മേഖല",scaleParam:"ബജറ്റ് സ്കെയിൽ",daysParam:"ഷൂട്ടിംഗ് ദിവസങ്ങൾ",currencyToggle:"കറൻസി",calculateBtn:"എസ്റ്റിമേറ്റ് കണക്കാക്കുക",totalBudgetTitle:"ആകെ ബജറ്റ്",riskTitle:"റിസ്ക് അനാലിസിസ്",aboveLineTitle:"അബ് എ ലൈൻ (ക്രിയേറ്റീവ്)",belowLineTitle:"ബിലോ എ ലൈൻ (പ്രൊഡക്ഷൻ)",printBtn:"പ്രിന്റ് ചെയ്യുക",posterComposition:"ലേഔട്ട് / ഘടന",posterPalette:"നിറങ്ങൾ (Palette)",styleRef:"സ്റ്റൈൽ റെഫറൻസ് ചിത്രം"}},Es=()=>localStorage.getItem("gemini_api_key")||"",be=()=>{const s=Es();if(!s)throw new Error("API Key is missing. Please add it in the app settings or profile menu.");return new oa({apiKey:s})},yi=[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_ONLY_HIGH"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_ONLY_HIGH"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_ONLY_HIGH"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_ONLY_HIGH"}],zi=s=>{var i;for(const l of s.candidates||[])if((i=l.content)!=null&&i.parts){for(const o of l.content.parts)if(o.inlineData&&o.inlineData.data)return`data:${o.inlineData.mimeType};base64,${o.inlineData.data}`}return null},at=async(s,i)=>{const l=be(),o=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];let n=null;for(const x of o)try{console.log(`Attempting image generation with ${x}...`);const c=await l.models.generateContent({model:x,contents:s,config:{imageConfig:{aspectRatio:i},safetySettings:yi}}),m=zi(c);if(m)return console.log(`Success: Generated image with ${x}`),m;console.warn(`Model ${x} returned no image data.`)}catch(c){console.warn(`Image generation failed with model ${x}.`,c.message),n=c}if(console.error("All image generation attempts failed. Last error:",n),n)throw new Error(`Image Gen Failed: ${n.message||"Check API Key & Quota"}`);return null},Si=async(s,i,l)=>{var o;try{const n=be(),x="gemini-2.5-flash",c=s.language==="ml"?"Write the output content strictly in Malayalam language (മലയാളം).":"Write the output in English.";let m="expert film producer";s.projectType===K.STARTUP_PITCH&&(m="venture capital consultant"),s.projectType===K.DOCUMENTARY&&(m="documentary researcher");let p=`
      You are an ${m} helping to write a pitch deck.
      
      Project Details:
      Type: ${s.projectType}
      Title: ${s.title}
      Genre/Category: ${s.genre}
      Logline: ${s.logline}
      Creator: ${s.director}
      
      FULL CONTEXT (Script/Plan):
      ${s.fullScript?s.fullScript.substring(0,2e4):"No full details provided, use logline."}

      Task: Write professional, compelling content for a pitch deck slide titled "${i}".
      
      Context/Existing Content: ${l||"None provided yet."}

      Requirements:
      - ${c}
      - Keep it concise (under 150 words).
      - Use industry-standard terminology for ${s.projectType}.
      - Make it persuasive.
      - Return ONLY the content text, no markdown formatting like **bold** headers if possible.
    `;return(i.includes("Budget")||i.includes("ROI")||i.includes("Financial"))&&(p+=`
        SPECIAL INSTRUCTION: Analyze the project complexity. Estimate a realistic budget/financials.
        For Movies: Estimate in Crores (₹ Cr) for Indian Context.
        For Startups: Estimate in USD/INR ($ or ₹) for seed/Series A funding.
        Break down costs appropriately.
      `),((o=(await n.models.generateContent({model:x,contents:p})).text)==null?void 0:o.trim())||""}catch(n){return console.error("Content Gen Error:",n),"Error generating content. Please check your API Key."}},Rs=async(s,i,l,o)=>{var n;try{const x=be(),c="gemini-2.5-flash",m=`
      Act as a visual prompt engineer for high-end AI image generators.
      
      Project Concept:
      Type: ${s.projectType}
      Title: ${s.title}
      Genre: ${s.genre}
      
      Visual Context:
      Subject: ${i}
      Description: ${l}
      
      Specific Style Instructions: ${o||"Cinematic, Photorealistic"}

      Task: Write a highly detailed, descriptive image prompt.
      
      Requirements:
      - ALWAYS write the prompt in ENGLISH.
      - Include camera angles, lighting, color palette, and mood.
      - Focus on the visual essence of the subject.
      - Output ONLY the prompt string.
    `;return((n=(await x.models.generateContent({model:c,contents:m})).text)==null?void 0:n.trim())||""}catch(x){return console.error("Prompt Gen Error:",x),"Cinematic shot, 8k resolution, highly detailed, dramatic lighting --ar 16:9"}},Ps=async(s,i="16:9")=>{let l="16:9";return i==="1:1"&&(l="1:1"),i==="2:3"&&(l="3:4"),at({parts:[{text:s}]},l)},Ci=async(s,i)=>{var c;let l="";const o=[];if(s.characterRefId){const m=(c=i.characters)==null?void 0:c.find(p=>p.id===s.characterRefId);if(m&&m.imageUrl){const p=m.imageUrl.split(",")[1];p&&(o.push({inlineData:{mimeType:"image/png",data:p}}),l="REFERENCE CHARACTER: Use the facial features and identity of the character in the attached image. ")}}else if(s.referenceImageUrl){const m=s.referenceImageUrl.split(",")[1];m&&(o.push({inlineData:{mimeType:"image/png",data:m}}),l="REFERENCE IMAGE: Use the style or character features from the attached image as a key reference. ")}const n=`
    Create a High Quality Movie Poster.
    ${l}
    
    Details:
    Title: ${s.title}
    Tagline: ${s.tagline}
    Visual Description: ${s.prompt}
    Style: ${s.style}
    
    Requirements: 
    - Cinematic lighting, professional composition.
    - High resolution text rendering for the Title if possible.
    - ${l?"Maintain strict consistency with the reference image provided.":""}
  `;o.push({text:n});let x="3:4";return s.aspectRatio==="16:9"&&(x="16:9"),s.aspectRatio==="1:1"&&(x="1:1"),s.aspectRatio==="2:3"&&(x="3:4"),at({parts:o},x)},ki=async(s,i)=>{const l=[];let o="";if(s.referenceImageUrl){const c=s.referenceImageUrl.split(",")[1];c&&(l.push({inlineData:{mimeType:"image/png",data:c}}),o+="REFERENCE IMAGE 1 (FACE/IDENTITY): Use this image as the strict reference for the character's facial features and identity. ")}if(s.actionReferenceImageUrl){const c=s.actionReferenceImageUrl.split(",")[1];c&&(l.push({inlineData:{mimeType:"image/png",data:c}}),o+="REFERENCE IMAGE 2 (POSE/BODY): Use this image as the reference for the character's pose, body language, and action. ")}const n=`
    ${o}
    
    Generate a Character Design / Portrait.
    Description: ${i}
    
    ${o?"Ensure consistency with provided reference images.":""}
  `;l.push({text:n});let x="1:1";return s.aspectRatio==="16:9"&&(x="16:9"),s.aspectRatio==="2:3"&&(x="3:4"),at({parts:l},x)},Ii=async(s,i)=>{const l=[i.lensType?`${i.lensType} lens`:"",i.cameraAngle?`${i.cameraAngle} shot`:"",i.shotSize?`${i.shotSize}`:"",i.imageStyle?`Art Style: ${i.imageStyle}`:"",i.colorGrade?`Color Grading/Mood: ${i.colorGrade}`:""].filter(Boolean).join(", "),o=`
    Create a Wide 16:9 Cinematic Storyboard Image.
    Scene Action: ${i.action}
    Camera & Visual Specs: ${l}
    General Style: ${i.imageStyle||"Realistic cinematic storyboard"}
    Lighting: High contrast, dynamic composition, cinematic lighting.
    Format: Landscape 16:9 Aspect Ratio.
  `,n=[];let x="";const c=(m,p)=>{var S;const b=(S=s.characters)==null?void 0:S.find(h=>h.id===m);if(b&&b.imageUrl){const h=b.imageUrl.split(",")[1];if(h)return n.push({inlineData:{mimeType:"image/png",data:h}}),`The character in the attached image is ${b.name} (${p}). `}return""};return i.characterRef1Id&&(x+=c(i.characterRef1Id,"Character A")),i.characterRef2Id&&(x+=c(i.characterRef2Id,"Character B")),x&&(x+="MAINTAIN CHARACTER CONSISTENCY. Use the visual features (face, hair, clothes) from the reference image(s) for the characters in this scene."),n.push({text:`${x}

${o}`}),at({parts:n},"16:9")},Ai=async(s,i)=>{var l;try{const o=be(),n="gemini-2.5-flash",x=i.map(r=>`${r.heading}: ${r.action}`).join(`
`),c=`
      You are a storyboard artist and script breakdown specialist.
      
      Project: ${s.title} (${s.projectType})
      
      Full Story: ${s.fullScript?s.fullScript.substring(0,15e3):s.logline}

      Already Generated Scenes:
      ${x}

      Task: Identify the NEXT key logical scene or beat.
      
      Output Format (Strictly Text with delimiters):
      HEADING: [Scene Heading]
      ACTION: [Brief description]
      PROMPT: [A highly detailed English visual prompt]
    `,p=((l=(await o.models.generateContent({model:n,contents:c,config:{responseMimeType:"text/plain"}})).text)==null?void 0:l.trim())||"",b=p.match(/HEADING:\s*(.+)/),S=p.match(/ACTION:\s*(.+)/),h=p.match(/PROMPT:\s*(.+)/);return b&&S&&h?{id:`scene-${Date.now()}`,heading:b[1].trim(),action:S[1].trim(),visualPrompt:h[1].trim(),shotSize:"Wide / Master",cameraAngle:"Eye Level",lensType:"35mm",imageStyle:"Hyper Realistic",colorGrade:"Cinematic"}:null}catch(o){return console.error("Scene Gen Error:",o),null}};function Ti(s){const i=atob(s),l=i.length,o=new Uint8Array(l);for(let n=0;n<l;n++)o[n]=i.charCodeAt(n);return o}function Ei(s,i=24e3){const n=i*1*16/8,x=1*16/8,c=s.length,m=36+c,p=new ArrayBuffer(44+c),b=new DataView(p);return ht(b,0,"RIFF"),b.setUint32(4,m,!0),ht(b,8,"WAVE"),ht(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,i,!0),b.setUint32(28,n,!0),b.setUint16(32,x,!0),b.setUint16(34,16,!0),ht(b,36,"data"),b.setUint32(40,c,!0),new Uint8Array(p,44).set(s),p}function ht(s,i,l){for(let o=0;o<l.length;o++)s.setUint8(i+o,l.charCodeAt(o))}const Ri=async(s,i)=>{var l,o,n,x,c,m;try{const h=(m=(c=(x=(n=(o=(l=(await be().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:s}]}],config:{responseModalities:[la.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}}}})).candidates)==null?void 0:l[0])==null?void 0:o.content)==null?void 0:n.parts)==null?void 0:x[0])==null?void 0:c.inlineData)==null?void 0:m.data;if(h){const r=Ti(h),j=Ei(r,24e3),A=new Blob([j],{type:"audio/wav"});return URL.createObjectURL(A)}return null}catch(p){throw console.error("Audio Gen Error:",p),p}},Pi=async s=>{var i,l,o,n,x;try{if(typeof window<"u"&&window.aistudio){const j=window.aistudio;try{await j.hasSelectedApiKey()||await j.openSelectKey()}catch(A){console.warn("AI Studio key selection failed",A)}}const c=be(),m="veo-3.1-fast-generate-preview";let p;try{p=await c.models.generateVideos({model:m,prompt:s,config:{numberOfVideos:1,resolution:"720p",aspectRatio:"16:9"}})}catch(j){throw(i=j.message)!=null&&i.includes("Requested entity was not found")&&typeof window<"u"&&window.aistudio?(await window.aistudio.openSelectKey(),new Error("API Key was not found. Please select a valid key and try again.")):j}for(;!p.done;)await new Promise(j=>setTimeout(j,5e3)),p=await c.operations.getVideosOperation({operation:p});const b=(x=(n=(o=(l=p.response)==null?void 0:l.generatedVideos)==null?void 0:o[0])==null?void 0:n.video)==null?void 0:x.uri;if(!b)return null;const S=Es(),r=await(await fetch(`${b}&key=${S}`)).blob();return URL.createObjectURL(r)}catch(c){throw console.error("Video Gen Error:",c),c}},Li=async(s,i,l)=>{var o;try{const n=be(),x="gemini-2.5-flash",c=`
      Act as a professional Film Location Scout.
      
      Project Requirements:
      Scene Vibe: ${i}
      Target Region: ${l}
      
      Task: Find 3-4 REAL world locations that match this description perfectly.
      
      Return JSON Format (Array of objects):
      [
        {
          "id": "loc-1",
          "name": "Name of Place",
          "description": "Visual description",
          "suitability": "Why this fits the scene",
          "coordinates": "Approx City/State"
        }
      ]
      STRICT JSON OUTPUT ONLY. No markdown.
    `,p=((o=(await n.models.generateContent({model:x,contents:c,config:{responseMimeType:"application/json"}})).text)==null?void 0:o.trim())||"[]";return JSON.parse(p)}catch(n){return console.error("Location Search Error:",n),[]}},Di=async(s,i)=>{const l=`
    Concept Art for Film Location.
    Location: ${s.name} (${s.description}).
    Scene Context: ${i}.
    Style: Photorealistic, Cinematic, Wide Angle.
    --ar 16:9
  `;return at({parts:[{text:l}]},"16:9")},Oi=async s=>{var i;try{const l=be(),o="gemini-2.5-flash",n=["Minimalist / Negative Space","Ensemble Cast (Floating Heads)","Character Portrait (Center)","Abstract / Symbolic","High Octane Action Montage","Typography Driven","Silhouette / Noir","Double Exposure"],x=n[Math.floor(Math.random()*n.length)],c=`
      Act as a professional Movie Poster Art Director.
      
      Project Details:
      Title: ${s.title}
      Genre: ${s.genre}
      Logline: ${s.logline}
      
      Full Script/Context:
      ${s.fullScript?s.fullScript.substring(0,15e3):"Use logline and title."}

      Task: 
      Design a unique movie poster concept using the archetype: "${x}".
      Identify the most ICONIC, VISUALLY STRIKING, or MARKETABLE scene/concept that fits this archetype.

      Output:
      Write a highly detailed AI image prompt (for Midjourney/DALL-E) describing this poster.
      Include:
      - Main Subject (Hero/Villain/Object)
      - Composition: ${x}
      - Lighting & Mood
      - Color Palette
      - Artistic Style (e.g. Painted, Photoreal, Graphic)
      
      Return ONLY the prompt string.
    `;return((i=(await l.models.generateContent({model:o,contents:c})).text)==null?void 0:i.trim())||""}catch(l){return console.error("Poster Prompt Gen Error:",l),"Cinematic movie poster, high contrast, dramatic lighting, 8k resolution"}},_i=async(s,i)=>{var l;try{const o=be(),n="gemini-2.5-flash",x=i==="ml"?"Respond strictly in Malayalam (മലയാളം) language. Do not translate English technical terms like 'Interval' or 'Climax' but write the description in Malayalam.":"Respond in English.",c=ls.map((h,r)=>`${r+1}. ${h.title}: ${h.description}`).join(`
`),m=`
      You are a Master Screenwriter for Indian Cinema (Mollywood/Bollywood).
      
      Story Concept:
      "${s}"

      Task:
      Break this story down into a 12-Point Cinematic Beat Sheet following this structure:
      ${c}

      For EACH beat, write a concise 1-2 sentence summary of exactly what happens in this specific story.
      
      Language Requirement: ${x}

      Output strictly as a JSON Array of objects:
      [
        {
          "title": "Beat Title",
          "description": "Specific story event description..."
        },
        ...
      ]
      STRICT JSON ONLY. No Markdown.
    `,b=((l=(await o.models.generateContent({model:n,contents:m,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"[]";return JSON.parse(b).map((h,r)=>({id:`beat-${r}`,title:h.title,description:ls[r].description,aiSuggestion:h.description,isExpanded:!1}))}catch(o){return console.error("Roadmap Gen Error:",o),[]}},Mi=async(s,i,l,o)=>{var n;try{const x=be(),c="gemini-2.5-flash",p=`
      You are a Creative Consultant for a movie script.
      
      Original Story Concept: "${s}"
      
      Current Beat: ${i}
      Context/Setup so far: ${l}

      Task: Generate 3 DISTINCT Plot Options for this specific beat.
      
      1. Path A: The Classic Turn (Expected/Dramatic/Safe)
      2. Path B: The Emotional Twist (Heartbreaking/Deep)
      3. Path C: The Wildcard Shock (Thriller/Psycho/Unexpected)

      Language: ${o==="ml"?"Write the content strictly in Malayalam (മലയാളം).":"Write the content in English."}

      Return JSON Format:
      {
        "options": [
          { "type": "Classic", "title": "The Safe Bet", "content": "..." },
          { "type": "Emotional", "title": "The Heartbreaker", "content": "..." },
          { "type": "Wildcard", "title": "The Shock", "content": "..." }
        ]
      }
    `,S=((n=(await x.models.generateContent({model:c,contents:p,config:{responseMimeType:"application/json"}})).text)==null?void 0:n.trim())||"{}";return JSON.parse(S).options||[]}catch(x){return console.error("Twist Gen Error:",x),[]}},Ui=async(s,i,l)=>{var o,n,x;try{const c=be(),m="gemini-2.5-flash",p=`
      Act as an experienced Line Producer for Film & TV.
      
      Project: ${s.title}
      Type: ${s.projectType}
      Genre: ${s.genre}
      Scale: ${i}
      Currency: ${l}
      
      Script/Story Context:
      ${s.fullScript?s.fullScript.substring(0,15e3):s.logline}
      
      Characters Count: ${((o=s.characters)==null?void 0:o.length)||"Unknown"}
      Scenes Count: ${((n=s.showcaseScenes)==null?void 0:n.length)||"Unknown"}

      Task:
      Create a detailed Preliminary Budget Estimate based on the script requirements (locations, VFX, cast size, etc.).
      
      Rules:
      1. Break down costs into 5 Categories: 'Above The Line', 'Below The Line', 'Post-Production', 'Marketing/Distribution', 'Contingency'.
      2. Provide realistic numbers for the requested Scale and Currency.
      3. For INR, use actual values (e.g. 5000000 for 50 Lakhs). For USD, use standard dollar amounts.
      
      Output strictly as JSON Array:
      [
        {
          "category": "Category Name",
          "item": "Specific Line Item (e.g. Director Fee, Camera Rental, VFX)",
          "cost": 100000,
          "notes": "Brief explanation of cost basis"
        }
      ]
    `,S=((x=(await c.models.generateContent({model:m,contents:p,config:{responseMimeType:"application/json"}})).text)==null?void 0:x.trim())||"[]";return JSON.parse(S).map((r,j)=>({id:`budget-${Date.now()}-${j}`,category:r.category,item:r.item,cost:r.cost,notes:r.notes}))}catch(c){return console.error("Budget Gen Error:",c),[]}},Fi=async(s,i)=>{try{const l=be(),o="gemini-2.5-flash",n=s.map(m=>({role:m.role==="user"?"user":"model",parts:[{text:m.content}]}));return(await l.chats.create({model:o,history:n,config:{systemInstruction:"You are the 'AI Cinema Master', an expert filmmaking assistant for the application AICINEMASUITE.com."}}).sendMessage({message:i})).text}catch(l){return console.error("Chat Bot Error:",l),"I'm having trouble connecting to the studio server. Please check your API Key."}},ds=s=>{const i=s.split(";base64,"),l=i[0].split(":")[1],o=window.atob(i[1]),n=o.length,x=new Uint8Array(n);for(let c=0;c<n;++c)x[c]=o.charCodeAt(c);return new Blob([x],{type:l})},xs=s=>new Promise((i,l)=>{const o=new FileReader;o.onloadend=()=>i(o.result),o.onerror=l,o.readAsDataURL(s)});class Me{static async save(i,l,o,n){if(!window.JSZip)throw new Error("Export libraries (JSZip) not loaded.");console.log("ProjectIO: Packaging project...");const x=await Me.generateProjectZip(i,l,o);try{if(n)return console.log("ProjectIO: Saving to existing handle..."),await Me.writeFileToHandle(n,x),n;if(window.showSaveFilePicker){console.log("ProjectIO: Opening Save As dialog...");const m=i.title?i.title.replace(/[^a-z0-9]/gi,"_").toLowerCase():"project",p=await window.showSaveFilePicker({suggestedName:`${m}.cinepitch`,types:[{description:"CinePitch Project File",accept:{"application/zip":[".cinepitch"]}}]});return await Me.writeFileToHandle(p,x),p}}catch(m){if(m.name==="AbortError")return console.log("Save cancelled by user."),null;console.warn("Smart Save failed (likely iframe/security restriction). Falling back to standard download.",m)}if(console.log("ProjectIO: Fallback to download."),!window.saveAs)throw new Error("FileSaver not loaded");const c=i.title?i.title.replace(/[^a-z0-9]/gi,"_").toLowerCase():"project";return window.saveAs(x,`${c}.cinepitch`),null}static async writeFileToHandle(i,l){const o=await i.createWritable();await o.write(l),await o.close()}static async generateProjectZip(i,l,o){const n=new window.JSZip,x=n.folder("assets"),c=JSON.parse(JSON.stringify(i)),m=JSON.parse(JSON.stringify(l)),p=(h,r,j)=>{if(h[r]&&typeof h[r]=="string"&&h[r].startsWith("data:")){const U=h[r].substring(5,h[r].indexOf(";")).split("/")[1],G=`${j}_${Date.now()}_${Math.random().toString(36).substr(2,5)}.${U}`;x.file(G,ds(h[r])),h[r]=`asset://${G}`}},b=async()=>{if(c.videos)for(let h=0;h<c.videos.length;h++){const r=c.videos[h];if(r.url&&r.url.startsWith("blob:"))try{const A=await(await fetch(r.url)).blob(),U=A.type.split("/")[1]||"mp4",G=`video_${h}_${Date.now()}.${U}`;x.file(G,A),r.url=`asset://${G}`}catch{console.warn("Failed to export video blob",r.url)}else r.url&&r.url.startsWith("data:")&&p(r,"url",`video_${h}`)}};m.forEach((h,r)=>p(h,"imageUrl",`slide_${r}`)),c.characters&&c.characters.forEach((h,r)=>{p(h,"imageUrl",`char_${r}`),p(h,"referenceImageUrl",`char_ref_${r}`),p(h,"actionReferenceImageUrl",`char_act_${r}`)}),c.showcaseScenes&&c.showcaseScenes.forEach((h,r)=>{p(h,"imageUrl",`scene_${r}`),h.generatedVariants&&(h.generatedVariants=h.generatedVariants.map((j,A)=>{if(j.startsWith("data:")){const U=`scene_${r}_var_${A}.png`;return x.file(U,ds(j)),`asset://${U}`}return j}))}),c.posters&&c.posters.forEach((h,r)=>p(h,"imageUrl",`poster_${r}`)),c.castList&&c.castList.forEach((h,r)=>{p(h,"characterImage",`cast_char_${r}`),p(h,"actorImage",`cast_actor_${r}`)}),c.vaultItems&&c.vaultItems.forEach((h,r)=>p(h,"url",`vault_${r}`)),await b();const S={version:"3.4",timestamp:new Date().toISOString(),activeSlideId:o};return n.file("project.json",JSON.stringify(c)),n.file("slides.json",JSON.stringify(m)),n.file("meta.json",JSON.stringify(S)),await n.generateAsync({type:"blob",compression:"DEFLATE"})}static async load(i){if(!window.JSZip)throw new Error("JSZip not found");console.log("ProjectIO: Loading Smart Project...");const o=await new window.JSZip().loadAsync(i);if(!o.file("project.json"))throw new Error("Invalid file format (missing project.json)");const n=await o.file("project.json").async("string"),x=await o.file("slides.json").async("string"),c=await o.file("meta.json").async("string"),m=JSON.parse(n),p=JSON.parse(x),b=JSON.parse(c),S=o.folder("assets"),h=async(r,j,A=!1)=>{if(r[j]&&typeof r[j]=="string"&&r[j].startsWith("asset://")){const U=r[j].replace("asset://",""),G=S==null?void 0:S.file(U);if(G){const Y=await G.async("blob");A?r[j]=URL.createObjectURL(Y):r[j]=await xs(Y)}}};for(const r of p)await h(r,"imageUrl");if(m.characters)for(const r of m.characters)await h(r,"imageUrl"),await h(r,"referenceImageUrl"),await h(r,"actionReferenceImageUrl");if(m.showcaseScenes){for(const r of m.showcaseScenes)if(await h(r,"imageUrl"),r.generatedVariants){const j=[];for(const A of r.generatedVariants)if(A.startsWith("asset://")){const U=A.replace("asset://",""),G=S==null?void 0:S.file(U);if(G){const Y=await G.async("blob");j.push(await xs(Y))}else j.push(null)}else j.push(A);r.generatedVariants=j.filter(Boolean)}}if(m.posters)for(const r of m.posters)await h(r,"imageUrl");if(m.castList)for(const r of m.castList)await h(r,"characterImage"),await h(r,"actorImage");if(m.videos)for(const r of m.videos)await h(r,"url",!0);if(m.vaultItems)for(const r of m.vaultItems)await h(r,"url");return{project:m,slides:p,activeSlideId:b.activeSlideId}}}const I=({children:s,variant:i="primary",className:l="",icon:o,isLoading:n,...x})=>{const c="inline-flex items-center justify-center px-4 py-2 rounded-md font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-zinc-900 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-zinc-100 text-zinc-900 hover:bg-white focus:ring-zinc-500",secondary:"bg-zinc-800 text-zinc-100 hover:bg-zinc-700 focus:ring-zinc-600 border border-zinc-700",accent:"bg-amber-600 text-white hover:bg-amber-500 focus:ring-amber-500 shadow-[0_0_15px_rgba(217,119,6,0.3)]",danger:"bg-red-900/50 text-red-200 hover:bg-red-900/80 border border-red-800/50",ghost:"bg-transparent text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800/50"};return e.jsxs("button",{className:`${c} ${m[i]} ${l}`,disabled:n||x.disabled,...x,children:[n?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o?e.jsx("span",{className:"mr-2",children:o}):null,s]})},Gi=({project:s,setProject:i,onStart:l,onResume:o,onLoadFromFile:n,hasSavedProject:x,onReset:c})=>{const m=d.useRef(null),p=d.useRef(null),b=Ct[s.language],[S,h]=d.useState(K.FEATURE_FILM),[r,j]=d.useState({}),[A,U]=d.useState([]);d.useEffect(()=>{j({fb:localStorage.getItem("cinepitch_social_facebook")||"",x:localStorage.getItem("cinepitch_social_twitter")||"",insta:localStorage.getItem("cinepitch_social_instagram")||"",yt:localStorage.getItem("cinepitch_youtube_link")||"",linkedin:localStorage.getItem("cinepitch_social_linkedin")||""});const y=localStorage.getItem("cinepitch_custom_social_links");if(y)try{U(JSON.parse(y))}catch(P){console.error("Error loading custom links",P)}},[]);const G=y=>{var H;const P=(H=y.target.files)==null?void 0:H[0];if(P){const ae=new FileReader;ae.onload=q=>{var xe;const ue=(xe=q.target)==null?void 0:xe.result;i({...s,fullScript:ue})},ae.readAsText(P)}},Y=y=>{h(y),i({...s,projectType:y,genre:""})},de=()=>{i({...s,serviceType:le.PITCH_DECK}),l("DECK")},F=()=>{c?c():i({...s,title:"",genre:"",logline:"",director:"",fullScript:"",projectType:K.FEATURE_FILM,serviceType:le.PITCH_DECK,showcaseScenes:[],characters:[],posters:[],audioAssets:[],videos:[],locations:[]}),h(K.FEATURE_FILM),m.current&&(m.current.value="")},oe=di[S]||[],he=Object.values(r).some(y=>typeof y=="string"&&y.length>0)||A.length>0;return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center p-4 relative",style:{backgroundImage:"url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=2070&auto=format&fit=crop')"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),e.jsxs("div",{className:"absolute top-6 left-6 z-20 flex items-center gap-2 text-white",children:[e.jsx(a.Clapperboard,{size:24,className:"text-amber-500"}),e.jsxs("div",{className:"font-bold cinematic-font tracking-widest text-lg flex items-center",children:[e.jsx("span",{children:"AICINEMASUITE"}),e.jsx("span",{className:"text-amber-500",children:".COM"})]})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-6xl bg-zinc-950/95 border border-zinc-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row h-[85vh] max-h-[900px]",children:[e.jsxs("div",{className:"w-full md:w-64 bg-zinc-900/50 border-r border-zinc-800 p-6 flex flex-col gap-4 shrink-0",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:F,className:"group flex items-center gap-2 hover:bg-zinc-800/50 -ml-2 px-2 py-1 rounded transition-colors w-full text-left",title:"Click to reset form",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1 group-hover:text-amber-500 transition-colors",children:"New Project"}),e.jsx(a.RotateCcw,{size:16,className:"text-zinc-500 group-hover:text-amber-500 opacity-0 group-hover:opacity-100 transition-all"})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Enter details to initialize your creative studio session."})]}),e.jsxs("div",{className:"mt-auto space-y-3",children:[x&&o&&e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-900 border border-zinc-800",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-400 mb-2",children:"Previous Session"}),e.jsxs(I,{variant:"secondary",onClick:o,className:"w-full text-xs justify-start",children:[e.jsx(a.Play,{size:14,className:"mr-2 text-green-500"})," Resume Last"]})]}),n&&e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-900 border border-zinc-800",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-400 mb-2",children:"Load From File"}),e.jsx("input",{type:"file",ref:p,className:"hidden",accept:".cinepitch,.json",onChange:n}),e.jsxs(I,{variant:"secondary",onClick:()=>{var y;return(y=p.current)==null?void 0:y.click()},className:"w-full text-xs justify-start",children:[e.jsx(a.Upload,{size:14,className:"mr-2 text-blue-500"})," Open .cinepitch"]})]}),he&&e.jsxs("div",{className:"pt-4 mt-2 border-t border-zinc-800 flex justify-center gap-3 flex-wrap",children:[r.fb&&e.jsx("a",{href:r.fb,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-500 transition-colors p-1",title:"Facebook",children:e.jsx(a.Facebook,{size:16})}),r.x&&e.jsx("a",{href:r.x,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-white transition-colors p-1",title:"X (Twitter)",children:e.jsx(a.Twitter,{size:16})}),r.insta&&e.jsx("a",{href:r.insta,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-pink-500 transition-colors p-1",title:"Instagram",children:e.jsx(a.Instagram,{size:16})}),r.yt&&e.jsx("a",{href:r.yt,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-red-600 transition-colors p-1",title:"YouTube",children:e.jsx(a.Youtube,{size:16})}),r.linkedin&&e.jsx("a",{href:r.linkedin,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-400 transition-colors p-1",title:"LinkedIn",children:e.jsx(a.Linkedin,{size:16})}),A.map(y=>e.jsx("a",{href:y.url,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-amber-500 transition-colors p-1",title:y.label,children:e.jsx(a.Globe,{size:16})},y.id))]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-zinc-950/50",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-zinc-800 pb-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-amber-600 flex items-center justify-center text-xs font-bold text-white",children:"1"}),e.jsx("h3",{className:"font-bold text-white uppercase tracking-wider text-sm",children:"Project Metadata"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:b.movieTitle}),e.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none transition-all placeholder-zinc-700",placeholder:"e.g. The Last Horizon",value:s.title,onChange:y=>i({...s,title:y.target.value}),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Project Category"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:ci.map(y=>e.jsxs("button",{onClick:()=>Y(y.id),className:`p-3 rounded-lg border text-left flex items-center gap-3 transition-all ${s.projectType===y.id?"bg-amber-600/20 border-amber-600 text-white":"bg-zinc-900 border-zinc-800 text-zinc-400 hover:bg-zinc-800"}`,children:[e.jsx(y.icon,{size:18}),e.jsx("span",{className:"text-xs font-bold",children:y.label})]},y.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:b.genre}),e.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none appearance-none text-sm",value:s.genre,onChange:y=>i({...s,genre:y.target.value}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Genre..."}),oe.map(y=>e.jsx("option",{value:y,children:y},y)),e.jsx("option",{value:"Other",children:"Other / Mixed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Language"}),e.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none appearance-none text-sm",value:s.language,onChange:y=>i({...s,language:y.target.value}),children:[e.jsx("option",{value:"en",children:"English (International)"}),e.jsx("option",{value:"ml",children:"Malayalam (Regional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:b.director}),e.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none transition-all placeholder-zinc-700",placeholder:"Creator Name",value:s.director,onChange:y=>i({...s,director:y.target.value})})]})]}),e.jsxs("div",{className:"space-y-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-zinc-800 pb-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-xs font-bold text-white",children:"2"}),e.jsx("h3",{className:"font-bold text-white uppercase tracking-wider text-sm",children:"Story Content"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:b.logline}),e.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder-zinc-700 h-24 resize-none",placeholder:"A one-sentence summary of your story...",value:s.logline,onChange:y=>i({...s,logline:y.target.value})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase",children:[b.fullScript," (Optional)"]}),e.jsxs("button",{onClick:()=>{var y;return(y=m.current)==null?void 0:y.click()},className:"text-[10px] text-amber-500 hover:text-amber-400 flex items-center gap-1 bg-zinc-900 px-2 py-1 rounded border border-zinc-800",children:[e.jsx(a.Upload,{size:12})," ",b.uploadScript," (.txt)"]})]}),e.jsxs("div",{className:"bg-red-900/10 border border-red-900/40 rounded-lg p-3 mb-3 flex gap-3",children:[e.jsx("div",{className:"p-2 bg-red-900/20 rounded-full h-fit shrink-0",children:e.jsx(a.ShieldCheck,{size:16,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-red-400 text-xs font-bold uppercase tracking-wider mb-1",children:"100% Safe & Private"}),e.jsxs("p",{className:"text-[10px] text-zinc-400 leading-relaxed",children:["Your script is processed ",e.jsx("strong",{children:"locally in your browser session"})," for AI analysis only. We do not store, copy, or share your story. Your intellectual property remains strictly yours."]})]})]}),e.jsx("input",{type:"file",ref:m,className:"hidden",accept:".txt,.md",onChange:G}),e.jsx("textarea",{className:"w-full flex-1 bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-zinc-300 focus:ring-1 focus:ring-blue-500 outline-none resize-none text-xs font-mono min-h-[200px]",placeholder:"Paste your full script, treatment, or notes here. This context helps the AI generate accurate slides, characters, and scenes.",value:s.fullScript,onChange:y=>i({...s,fullScript:y.target.value})})]}),e.jsxs("div",{className:"pt-4 border-t border-zinc-800",children:[e.jsx(I,{className:"w-full py-4 text-lg font-bold bg-amber-600 hover:bg-amber-500 text-white shadow-lg shadow-amber-900/20",onClick:de,disabled:!s.title||!s.genre,icon:e.jsx(a.Rocket,{size:20}),children:"Launch Studio Workspace"}),e.jsx("p",{className:"text-[10px] text-zinc-600 text-center mt-3",children:"By launching, you accept that AI content is generated based on your inputs."})]})]})]})})]})]})},$i=({slide:s,index:i,isActive:l,onClick:o,onDragStart:n,onDragOver:x,onDrop:c})=>{const[m,p]=d.useState(!1);return e.jsxs("div",{draggable:!0,onDragStart:b=>n(b,i),onDragOver:b=>x(b,i),onDrop:b=>c(b,i),onClick:o,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:`
        group relative flex items-center p-3 rounded-lg cursor-pointer transition-all border
        ${l?"bg-amber-900/20 border-amber-600/50":"bg-zinc-900 border-zinc-800 hover:bg-zinc-800 hover:border-zinc-700"}
      `,children:[e.jsx("div",{className:"mr-3 text-zinc-500 font-mono text-xs select-none cursor-move",children:e.jsx(a.Grid,{size:14,className:"opacity-50 group-hover:opacity-100"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`text-sm truncate font-medium ${l?"text-zinc-100":"text-zinc-400"}`,children:s.title}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.imageUrl?e.jsx("span",{className:"text-[10px] bg-green-900/30 text-green-400 px-1.5 py-0.5 rounded border border-green-900/50",children:"Img Ready"}):e.jsx("span",{className:"text-[10px] bg-zinc-800 text-zinc-500 px-1.5 py-0.5 rounded border border-zinc-700",children:"No Img"})})]}),m&&s.imageUrl&&e.jsxs("div",{className:"fixed left-72 z-50 w-[480px] aspect-video bg-zinc-950 rounded-lg border border-zinc-700 shadow-2xl overflow-hidden pointer-events-none transform transition-all duration-200",children:[e.jsx("img",{src:s.imageUrl,alt:"preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-4",children:e.jsx("h5",{className:"text-white font-bold text-lg drop-shadow-md",children:s.title})})]})]})},Bi=({project:s,slides:i,activeSlideId:l,setActiveSlideId:o,onUpdateSlide:n,onAddSlide:x,onPresentationMode:c,onStructureMode:m,onGoHome:p,onDragStart:b,onDragOver:S,onDrop:h,onGenerateContent:r,isGeneratingContent:j,onAutoPrompt:A,isGeneratingPrompt:U,onGenerateImage:G,isGeneratingImage:Y,onFileUpload:de,showcaseScenes:F,onGenerateNextScene:oe,isGeneratingScene:he,onUpdateScene:y,onAddCharacter:P,onUpdateCharacter:H,onAddPoster:ae,onUpdatePoster:q,onAddAudio:ue,onAddVideo:xe,onDeleteVideo:je,initialTab:ke="DECK",onTabChange:Ne,onSave:Ie,onExport:fe,onOpenProfile:Ae,onOpenAdmin:ie,onLogout:ve,onOpenFAQ:Te,currentUser:Z,onUpdateProject:L})=>{var Mt,Ut,Ft,Gt,$t,Bt,Ht,Vt,Wt,Yt,Kt,qt,Jt,Xt,Qt,Zt,es,ts,ss,as,is,rs;const V=Ct[s.language],se=i.find(t=>t.id===l),[J,Ye]=d.useState(""),[$,ye]=d.useState(ke),[ze,pe]=d.useState(null),[Ke,Ue]=d.useState(!1),[ce,Fe]=d.useState(null),[Se,qe]=d.useState(""),[Re,Ge]=d.useState(!1),[Ce,$e]=d.useState(null),[we,me]=d.useState(!1),[v,w]=d.useState(""),[k,M]=d.useState(cs[0].id),[T,Q]=d.useState(!1),[te,it]=d.useState(""),[rt,gt]=d.useState(""),[Be,Je]=d.useState(null),[Pe,bt]=d.useState(s.storyConcept||""),[Le,Xe]=d.useState(null),[nt,Qe]=d.useState([]),[ft,lt]=d.useState(!1),[Ze,ot]=d.useState(!1),[He,vt]=d.useState(""),[ct,jt]=d.useState("India"),[dt,xt]=d.useState([]),[Ve,We]=d.useState(!1),[De,u]=d.useState("ALL"),[f,C]=d.useState(null),[D,O]=d.useState(!1),[ee,Oe]=d.useState(s.budgetScale||"Mid-Range"),[Ee,mt]=d.useState(s.budgetCurrency||"INR"),[W,re]=d.useState(!1);d.useEffect(()=>{ye(ke)},[ke]);const et=t=>{ye(t),Ne&&Ne(t)},Ds=t=>{Ye(t.target.value)},Os=t=>{var N;const g=(N=t.target.files)==null?void 0:N[0];if(g){const R=URL.createObjectURL(g),B={id:`vid-${Date.now()}`,title:g.name.replace(/\.[^/.]+$/,""),url:R,createdAt:Date.now(),source:"UPLOAD"};xe(B)}},_s=async()=>{if(Se){Ge(!0);try{const t=await Pi(Se);if(t){const g={id:`vid-ai-${Date.now()}`,title:`AI Generated: ${Se.substring(0,20)}...`,url:t,createdAt:Date.now(),source:"AI"};xe(g)}}catch{console.error("Failed to generate video")}finally{Ge(!1)}}},Ms=async()=>{if(!(!Pe||!L)){lt(!0);try{L({storyConcept:Pe});const t=await _i(Pe,s.language);t.length>0&&L({scriptRoadmap:t})}catch(t){console.error(t)}finally{lt(!1)}}},kt=async t=>{Xe(t.id),Qe([]),ot(!0);try{const g=await Mi(Pe,t.title,t.aiSuggestion||"",s.language);Qe(g)}catch(g){console.error(g)}finally{ot(!1)}},Us=t=>{if(!L)return;const g=(s.fullScript||"")+`

`+t;L({fullScript:g}),Qe([]),Xe(null)},Fs=async()=>{if(L){O(!0);try{const t=await Ui(s,ee,Ee);L({budgetItems:t,budgetScale:ee,budgetCurrency:Ee})}catch(t){console.error(t)}finally{O(!1)}}},Gs=()=>{if(!s.budgetItems||s.budgetItems.length===0)return;const t=["Category","Line Item","Notes",`Cost (${Ee})`],g=s.budgetItems.map(ne=>[`"${ne.category}"`,`"${ne.item}"`,`"${ne.notes||""}"`,`${ne.cost}`]);g.push(["TOTAL","","",`${Nt()}`]);const N="data:text/csv;charset=utf-8,"+[t.join(","),...g.map(ne=>ne.join(","))].join(`
`),R=encodeURI(N),B=document.createElement("a");B.setAttribute("href",R),B.setAttribute("download",`${s.title.replace(/\s+/g,"_")}_Budget.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)},tt=t=>Ee==="USD"?`$${t.toLocaleString()}`:`₹${t.toLocaleString("en-IN")}`,Nt=()=>{var t;return((t=s.budgetItems)==null?void 0:t.reduce((g,N)=>g+N.cost,0))||0},It=(t,g)=>{var R;const N=(R=t.target.files)==null?void 0:R[0];if(N&&z){const B=new FileReader;B.onloadend=()=>{g==="FACE"?H(z.id,{referenceImageUrl:B.result}):H(z.id,{actionReferenceImageUrl:B.result})},B.readAsDataURL(N)}},$s=t=>{var N;const g=(N=t.target.files)==null?void 0:N[0];if(g&&_){const R=new FileReader;R.onloadend=()=>{q(_.id,{referenceImageUrl:R.result})},R.readAsDataURL(g)}},Bs=t=>{var N;const g=(N=t.target.files)==null?void 0:N[0];if(g&&ce){const R=new FileReader;R.onloadend=()=>{y(ce,{imageUrl:R.result})},R.readAsDataURL(g)}},At=async(t,g,N,R)=>{var B,ne;me(!0);try{if(g==="CHARACTER"){const _e=(B=s.characters)==null?void 0:B.find(ge=>ge.id===N);if(_e){const ge=await ki(_e,t);ge&&H(N,{imageUrl:ge})}}else{const _e=(ne=s.posters)==null?void 0:ne.find(ge=>ge.id===N);if(_e){const ge=await Ci(_e,s);ge&&q(N,{imageUrl:ge})}else{const ge=await Ps(t,R||"2:3");ge&&q(N,{imageUrl:ge})}}}catch(_e){console.error(_e)}finally{me(!1)}},Hs=async()=>{if(!ce)return;const t=F.find(g=>g.id===ce);if(t){me(!0);try{const g=await Rs(s,"Scene Visuals",t.visualPrompt||t.action,t.imageStyle);y(t.id,{visualPrompt:g})}catch(g){console.error(g)}finally{me(!1)}}},Vs=async()=>{if(_){me(!0);try{const t=await Oi(s);q(_.id,{prompt:t})}catch(t){console.error(t)}finally{me(!1)}}},Tt=async()=>{if(!ce)return;const t=F.find(g=>g.id===ce);if(t){me(!0);try{const g=await Ii(s,t);if(g){const N=[g,...t.generatedVariants||[]].slice(0,10);y(t.id,{imageUrl:g,generatedVariants:N})}}catch(g){console.error(g)}finally{me(!1)}}},Ws=async()=>{if(v){Q(!0);try{const t=await Ri(v,k);t&&(ue({id:`audio-${Date.now()}`,text:v,voice:k,audioUrl:t,createdAt:Date.now()}),w(""))}catch(t){console.error(t)}finally{Q(!1)}}},Ys=async()=>{if(He){We(!0);try{const t=await Li(s,He,ct);xt(t)}catch(t){console.error(t)}finally{We(!1)}}},Ks=async t=>{We(!0);const g=await Di(t,He);g&&xt(N=>N.map(R=>R.id===t.id?{...R,imageUrl:g}:R)),We(!1)},Et=()=>{const t={id:`char-${Date.now()}`,name:"New Character",role:"Character",roleType:"Supporting",description:"",gender:"",age:"",skinTone:"",hairStyle:"",clothing:"",accessories:"",nationality:"",era:"",faceShape:"",skinTexture:"",bodyType:"",expression:"",eyeGaze:"",aspectRatio:"1:1",visualPrompt:"",imageUrl:null,referenceImageUrl:null,actionReferenceImageUrl:null};P(t),pe(t.id)},Rt=()=>{const t={id:`poster-${Date.now()}`,title:s.title||"Movie Title",tagline:"The tagline goes here.",style:"Cinematic",aspectRatio:"2:3",prompt:"",imageUrl:null};ae(t),pe(t.id)},Pt=()=>{if(!L)return;const t={id:`cast-${Date.now()}`,characterName:"New Character",characterImage:null,actorName:"",actorImage:null};L({castList:[...s.castList||[],t]})},wt=(t,g)=>{if(!L||!s.castList)return;const N=s.castList.map(R=>R.id===t?{...R,...g}:R);L({castList:N})},qs=t=>{if(!L||!s.castList)return;const g=s.castList.filter(N=>N.id!==t);L({castList:g})},Lt=(t,g,N)=>{var B;const R=(B=t.target.files)==null?void 0:B[0];if(R){const ne=new FileReader;ne.onloadend=()=>{wt(g,{[N]:ne.result})},ne.readAsDataURL(R)}},Js=()=>{if(!L)return;const t={id:`crew-${Date.now()}`,role:"",name:""};L({crewList:[...s.crewList||[],t]})},Dt=(t,g)=>{if(!L||!s.crewList)return;const N=s.crewList.map(R=>R.id===t?{...R,...g}:R);L({crewList:N})},Xs=t=>{if(!L||!s.crewList)return;const g=s.crewList.filter(N=>N.id!==t);L({crewList:g})},Qs=t=>{const g=t.target.files;g&&L&&Array.from(g).forEach(N=>{const R=new FileReader;R.onloadend=()=>{let B="UNKNOWN";N.type.startsWith("image/")?B="IMAGE":N.type.startsWith("video/")?B="VIDEO":N.type==="application/pdf"?B="PDF":N.type.startsWith("text/")||N.name.endsWith(".txt")||N.name.endsWith(".md")?B="TEXT":N.name.endsWith(".zip")||N.name.endsWith(".rar")?B="ARCHIVE":N.type.startsWith("audio/")&&(B="AUDIO");const ne={id:`vault-${Date.now()}-${Math.random()}`,type:B,title:N.name,description:"",url:R.result,fileName:N.name,fileSize:(N.size/1024).toFixed(1)+" KB",createdAt:Date.now()};L({vaultItems:[...s.vaultItems||[],ne]})},R.readAsDataURL(N)})},Zs=(t,g)=>{if(!L||!s.vaultItems)return;const N=s.vaultItems.map(R=>R.id===t?{...R,...g}:R);L({vaultItems:N})},ea=t=>{if(!L||!s.vaultItems)return;const g=s.vaultItems.filter(N=>N.id!==t);L({vaultItems:g})},Ot=()=>{const t=s.vaultItems||[];return De==="ALL"?t:De==="IMAGE"?t.filter(g=>g.type==="IMAGE"):De==="VIDEO"?t.filter(g=>g.type==="VIDEO"):De==="DOCS"?t.filter(g=>["PDF","TEXT","ARCHIVE"].includes(g.type)):t},z=(Mt=s.characters)==null?void 0:Mt.find(t=>t.id===ze),_=(Ut=s.posters)==null?void 0:Ut.find(t=>t.id===ze),E=F.find(t=>t.id===ce),_t=()=>{if(!z)return"";const t=[z.gender,z.age?`${z.age} years old`:"",z.nationality,z.roleType,z.bodyType?`Body: ${z.bodyType}`:"",z.faceShape?`Face: ${z.faceShape} shape`:"",z.skinTone?`${z.skinTone} skin`:"",z.skinTexture?`Texture: ${z.skinTexture}`:"",z.hairStyle?`Hair: ${z.hairStyle}`:"",z.expression?`Expression: ${z.expression}`:"",z.eyeGaze?`Eyes: ${z.eyeGaze}`:"",z.clothing?`wearing ${z.clothing}`:"",z.era?`set in ${z.era}`:"",z.description].filter(Boolean).join(", ");return`Cinematic portrait of ${z.name}, ${t}, highly detailed, photorealistic, cinematic lighting, 8k resolution, ${s.genre} style`},ta=()=>{if(!z)return;const t=_t();H(z.id,{visualPrompt:t})},sa=()=>{if(!z)return;const t=z.visualPrompt||_t();At(t,"CHARACTER",z.id)},aa=(t,g)=>{if(t&&window.saveAs)window.saveAs(t,g);else if(t){const N=document.createElement("a");N.href=t,N.download=g,N.click()}},yt=(t,g,N,R,B)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-600",children:[e.jsx("div",{className:"bg-zinc-900 p-6 rounded-full mb-4 border border-zinc-800",children:hs.createElement(t,{size:48,className:"opacity-50"})}),e.jsx("h3",{className:"text-xl font-bold text-zinc-300 mb-2",children:g}),e.jsx("p",{className:"text-sm text-zinc-500 mb-6 max-w-xs text-center",children:N}),e.jsx(I,{variant:"accent",onClick:R,icon:e.jsx(a.Plus,{size:16}),children:B})]}),ia=[{id:"DECK",icon:a.Layout,label:V.slideDeck},{id:"SCRIPT",icon:a.ScrollText,label:V.scriptMagic},{id:"CAST_CREW",icon:a.UserPlus,label:V.castCrew},{id:"STORYBOARD",icon:a.Clapperboard,label:V.storyBoard},{id:"BUDGET",icon:a.Calculator,label:V.budgetForge},{id:"VAULT",icon:a.Box,label:V.cinemaVault},{id:"CHARACTERS",icon:a.Users,label:V.characters},{id:"LOCATION",icon:a.MapPin,label:V.locationScout},{id:"POSTERS",icon:a.Image,label:V.posters},{id:"AUDIO",icon:a.Mic,label:V.soundStage},{id:"TRAILER",icon:a.Video,label:V.mediaLibrary}],ra=["DECK","CHARACTERS","STORYBOARD","POSTERS","AUDIO"].includes($);return e.jsxs("div",{className:"h-screen flex flex-col bg-zinc-950 overflow-hidden",children:[Ce&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-xl flex items-center justify-center animate-in fade-in duration-200",children:[e.jsx("button",{onClick:()=>$e(null),className:"absolute top-6 right-8 p-3 bg-zinc-800/80 hover:bg-red-600/80 text-white rounded-full transition-colors z-[110]",children:e.jsx(a.X,{size:24})}),e.jsxs("div",{className:"w-full max-w-6xl p-4 flex flex-col items-center",children:[e.jsx("div",{className:"w-full aspect-video bg-black rounded-lg shadow-2xl overflow-hidden border border-zinc-800",children:e.jsx("video",{src:Ce.url,controls:!0,autoPlay:!0,className:"w-full h-full object-contain"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mt-6",children:Ce.title}),e.jsxs("div",{className:"flex gap-4 mt-2 text-zinc-500 text-sm",children:[e.jsx("span",{className:"uppercase tracking-wider",children:Ce.source==="AI"?"Generated with Veo":"Uploaded File"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(Ce.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("header",{className:"h-14 border-b border-zinc-800 bg-zinc-900 flex items-center justify-between px-4 shrink-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:p,className:"flex items-center gap-2 text-white hover:text-amber-500 transition-colors group mr-2",title:"Back to Home / Categories",children:e.jsx(a.Clapperboard,{size:20,className:"text-amber-500 group-hover:rotate-12 transition-transform"})}),e.jsx("div",{className:"h-6 w-px bg-zinc-800"}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",title:"Back to Structure",children:e.jsx(a.ChevronLeft,{size:20})}),e.jsxs("h1",{className:"font-bold text-lg text-zinc-200 truncate max-w-xs",children:[s.title," ",e.jsx("span",{className:"text-zinc-600 text-xs ml-2 uppercase border border-zinc-700 rounded px-1",children:s.serviceType.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex bg-zinc-800 border border-zinc-700 rounded-full p-0.5 mr-2",children:[e.jsx("button",{onClick:()=>L&&L({language:"en"}),className:`px-2 py-0.5 rounded-full text-[10px] font-bold transition-colors ${s.language==="en"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"EN"}),e.jsx("button",{onClick:()=>L&&L({language:"ml"}),className:`px-2 py-0.5 rounded-full text-[10px] font-bold transition-colors ${s.language==="ml"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"ML"})]}),$==="STORYBOARD"&&e.jsxs(e.Fragment,{children:[e.jsx(I,{variant:"secondary",icon:e.jsx(a.Play,{size:16}),onClick:()=>c("STORYBOARD"),children:"Present Storyboard"}),e.jsx(I,{variant:"accent",className:"bg-amber-600 hover:bg-amber-500 text-white border-none",onClick:fe,icon:e.jsx(a.Upload,{size:16}),children:"EXPORT"})]}),$==="DECK"&&e.jsx(I,{variant:"secondary",icon:e.jsx(a.Play,{size:16}),onClick:()=>c("DECK"),children:V.presentDeck}),e.jsx(I,{variant:"ghost",icon:e.jsx(a.Save,{size:16}),onClick:Ie,children:V.save}),e.jsx("div",{className:"h-6 w-px bg-zinc-800 mx-2"}),e.jsx("button",{onClick:Te,className:"text-zinc-500 hover:text-white transition-colors",title:"Help & FAQ",children:e.jsx(a.HelpCircle,{size:20})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>re(!W),className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-500 to-red-600 flex items-center justify-center text-white font-bold text-xs shadow-lg hover:ring-2 hover:ring-amber-500 transition-all",children:((Ft=Z==null?void 0:Z.name)==null?void 0:Ft.charAt(0))||"U"}),W&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl py-1 z-50 animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-zinc-800 mb-1",children:[e.jsx("p",{className:"text-white font-bold text-sm truncate",children:(Z==null?void 0:Z.name)||"Guest"}),e.jsx("p",{className:"text-zinc-500 text-[10px] truncate",children:(Z==null?void 0:Z.email)||""}),(Z==null?void 0:Z.role)==="ADMIN"&&e.jsx("span",{className:"inline-block mt-1 text-[9px] bg-red-600 text-white px-1.5 py-0.5 rounded font-bold",children:"SYSTEM ADMIN"})]}),e.jsxs("button",{onClick:()=>{Ae==null||Ae(),re(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(a.User,{size:14})," ",V.myProfile]}),e.jsxs("button",{onClick:()=>{ie==null||ie(),re(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(a.Settings,{size:14}),(Z==null?void 0:Z.role)==="ADMIN"?"System Admin":"Project Settings"]}),e.jsxs("button",{onClick:ve,className:"w-full text-left px-4 py-2 text-red-400 hover:text-red-300 hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(a.LogOut,{size:14})," ",V.logout]})]})]})]})]}),e.jsx("div",{className:"h-14 border-b border-zinc-800 bg-black flex items-center px-4 gap-2 overflow-x-auto no-scrollbar shrink-0",children:ia.map(t=>e.jsxs("button",{onClick:()=>et(t.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider whitespace-nowrap transition-all
                ${$===t.id?"bg-amber-600 text-white shadow-lg shadow-amber-900/40":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900"}
              `,children:[e.jsx(t.icon,{size:14}),t.label]},t.id))}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[ra&&e.jsx("aside",{className:"w-80 border-r border-zinc-800 bg-zinc-900/50 flex flex-col shrink-0",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-2 bg-zinc-900/30 relative",children:[$==="DECK"&&e.jsxs("div",{className:"space-y-2 pb-16",children:[i.map((t,g)=>e.jsx($i,{slide:t,index:g,isActive:l===t.id,onClick:()=>o(t.id),onDragStart:b,onDragOver:S,onDrop:h},t.id)),e.jsx("div",{className:"pt-2",children:e.jsxs(I,{variant:"secondary",onClick:x,className:"w-full text-sm py-2 border-dashed border-2",children:[e.jsx(a.Plus,{size:14,className:"mr-2"})," ",V.addSlide]})})]}),$==="CHARACTERS"&&e.jsxs("div",{className:"space-y-2 p-2",children:[(Gt=s.characters)==null?void 0:Gt.map(t=>e.jsxs("div",{onClick:()=>pe(t.id),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border ${ze===t.id?"bg-zinc-800 border-amber-600":"bg-zinc-950 border-zinc-800 hover:border-zinc-700"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 overflow-hidden flex-shrink-0",children:t.imageUrl?e.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}):e.jsx(a.User,{className:"m-2 text-zinc-600"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-bold text-zinc-200 truncate",children:t.name}),e.jsx("p",{className:"text-xs text-zinc-500 truncate",children:t.roleType})]})]},t.id)),e.jsxs(I,{variant:"secondary",onClick:Et,className:"w-full mt-4",children:[e.jsx(a.Plus,{size:14,className:"mr-2"})," Add Character"]})]}),$==="STORYBOARD"&&e.jsxs("div",{className:"space-y-2 pb-16",children:[F.map((t,g)=>{var N;return e.jsxs("div",{onClick:()=>Fe(t.id),className:`p-2 rounded border cursor-pointer flex gap-2 ${ce===t.id?"bg-amber-900/20 border-amber-600":"bg-zinc-900 border-zinc-800"}`,children:[e.jsx("div",{className:"w-16 h-10 bg-black rounded overflow-hidden shrink-0",children:t.imageUrl&&e.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-xs font-bold text-white truncate",children:["SCENE ",g+1]}),e.jsx("p",{className:"text--[10px] text-zinc-500 truncate",children:t.heading}),e.jsxs("div",{className:"flex gap-1 mt-1",children:[e.jsx("span",{className:"text-[8px] bg-zinc-800 px-1 rounded text-zinc-400",children:(N=t.shotSize)==null?void 0:N.split(" ")[0]}),e.jsx("span",{className:"text-[8px] bg-zinc-800 px-1 rounded text-zinc-400",children:t.lensType})]})]})]},t.id)}),e.jsx("div",{className:"pt-2",children:e.jsxs(I,{variant:"secondary",onClick:oe,className:"w-full text-xs py-2 border-dashed border-2",children:[e.jsx(a.Plus,{size:12,className:"mr-2"})," Add Next Scene"]})})]}),$==="POSTERS"&&e.jsxs("div",{className:"space-y-2 p-2",children:[($t=s.posters)==null?void 0:$t.map(t=>e.jsxs("div",{onClick:()=>pe(t.id),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border ${ze===t.id?"bg-zinc-800 border-green-600":"bg-zinc-950 border-zinc-800 hover:border-zinc-700"}`,children:[e.jsx("div",{className:"w-8 h-12 bg-zinc-800 overflow-hidden flex-shrink-0 rounded-sm",children:t.imageUrl?e.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}):e.jsx(a.Image,{className:"m-2 text-zinc-600"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-bold text-zinc-200 truncate",children:t.title}),e.jsx("p",{className:"text-xs text-zinc-500 truncate",children:t.aspectRatio})]})]},t.id)),e.jsxs(I,{variant:"secondary",onClick:Rt,className:"w-full mt-4",children:[e.jsx(a.Plus,{size:14,className:"mr-2"})," New Poster"]})]}),$==="AUDIO"&&e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("h3",{className:"text-xs font-bold text-pink-500 uppercase mb-4 flex items-center gap-2",children:[e.jsx(a.Mic,{size:14})," Voice Generator"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Voice Actor"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:k,onChange:t=>M(t.target.value),children:cs.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Dialogue Text"}),e.jsx("textarea",{className:"w-full h-32 bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm resize-none",placeholder:"Type what you want the character to say...",value:v,onChange:t=>w(t.target.value)})]}),e.jsx(I,{className:"w-full",variant:"accent",onClick:Ws,isLoading:T,children:"Generate Voice"})]}),!["DECK","CHARACTERS","STORYBOARD","POSTERS","AUDIO","SCRIPT","CAST_CREW"].includes($)&&e.jsxs("div",{className:"p-6 text-center text-zinc-600 text-xs",children:[e.jsx(a.Settings,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Configure settings in the main view."})]})]})}),e.jsxs("main",{className:"flex-1 flex overflow-hidden bg-zinc-950 relative",children:[$==="BUDGET"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto w-full p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center border-b border-zinc-800 pb-6 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white cinematic-font flex items-center gap-3",children:[e.jsx(a.Calculator,{size:24,className:"text-green-500"}),"BUDGET",e.jsx("span",{className:"text-green-500",children:"FORGE"})]}),e.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"AI Line Producer & Cost Estimation"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-2 flex gap-2",children:[e.jsxs("select",{className:"bg-zinc-950 text-white text-xs p-2 rounded border border-zinc-700",value:ee,onChange:t=>Oe(t.target.value),children:[e.jsx("option",{value:"Micro/Indie",children:"Micro/Indie"}),e.jsx("option",{value:"Mid-Range",children:"Mid-Range"}),e.jsx("option",{value:"Blockbuster",children:"Blockbuster"})]}),e.jsxs("select",{className:"bg-zinc-950 text-white text-xs p-2 rounded border border-zinc-700",value:Ee,onChange:t=>mt(t.target.value),children:[e.jsx("option",{value:"INR",children:"INR (₹)"}),e.jsx("option",{value:"USD",children:"USD ($)"})]})]}),e.jsxs(I,{variant:"accent",onClick:Fs,isLoading:D,className:"bg-green-600 hover:bg-green-500",children:[e.jsx(a.Wand2,{size:16,className:"mr-2"})," Generate Estimate"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(a.Coins,{size:64})}),e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-2",children:V.totalBudgetTitle}),e.jsx("p",{className:"text-4xl font-bold text-white tracking-tight",children:tt(Nt())}),e.jsxs("p",{className:"text-zinc-500 text-xs mt-2",children:["Estimated ",ee," Production"]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-4",children:V.aboveLineTitle}),e.jsx("div",{className:"space-y-2",children:(Bt=s.budgetItems)==null?void 0:Bt.filter(t=>t.category==="Above The Line").slice(0,3).map((t,g)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-zinc-300 truncate pr-4",children:t.item}),e.jsx("span",{className:"font-mono text-zinc-400",children:tt(t.cost)})]},g))})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-4",children:V.belowLineTitle}),e.jsx("div",{className:"space-y-2",children:(Ht=s.budgetItems)==null?void 0:Ht.filter(t=>t.category==="Below The Line").slice(0,3).map((t,g)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-zinc-300 truncate pr-4",children:t.item}),e.jsx("span",{className:"font-mono text-zinc-400",children:tt(t.cost)})]},g))})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-zinc-950 border-b border-zinc-800 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-white",children:"Detailed Breakdown"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"text-xs text-zinc-400 hover:text-white flex items-center gap-1 border border-zinc-800 rounded px-2 py-1 transition-colors",onClick:Gs,children:[e.jsx(a.FileText,{size:12})," Export CSV"]}),e.jsxs("button",{className:"text-xs text-green-500 hover:text-white flex items-center gap-1 border border-zinc-800 rounded px-2 py-1 transition-colors",onClick:()=>window.print(),children:[e.jsx(a.Download,{size:12})," Print View"]})]})]}),e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-zinc-950/50 text-zinc-500 text-xs uppercase font-bold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-1/4",children:"Category"}),e.jsx("th",{className:"p-4 w-1/3",children:"Line Item"}),e.jsx("th",{className:"p-4",children:"Notes"}),e.jsx("th",{className:"p-4 text-right",children:"Cost"})]})}),e.jsxs("tbody",{className:"divide-y divide-zinc-800 text-zinc-300",children:[(Vt=s.budgetItems)==null?void 0:Vt.map(t=>e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[e.jsx("td",{className:"p-4 text-zinc-500 font-bold text-xs uppercase",children:t.category}),e.jsx("td",{className:"p-4 font-medium",children:t.item}),e.jsx("td",{className:"p-4 text-zinc-500 text-xs",children:t.notes}),e.jsx("td",{className:"p-4 text-right font-mono text-white",children:tt(t.cost)})]},t.id)),(!s.budgetItems||s.budgetItems.length===0)&&e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"p-12 text-center text-zinc-600",children:[e.jsx(a.Calculator,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No budget generated yet."}),e.jsx("p",{className:"text-xs mt-2",children:'Select your scale and currency, then click "Generate Estimate".'})]})})]}),s.budgetItems&&s.budgetItems.length>0&&e.jsx("tfoot",{className:"bg-zinc-950 font-bold border-t-2 border-zinc-800 text-white",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"p-4 text-right uppercase tracking-wider text-xs",children:"Total Estimated Budget"}),e.jsx("td",{className:"p-4 text-right font-mono text-lg text-green-400",children:tt(Nt())})]})})]})]})]})}),$==="CAST_CREW"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto w-full p-8 space-y-12",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-zinc-800 pb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white cinematic-font tracking-wide flex items-center gap-3",children:[e.jsx(a.Users,{size:24,className:"text-emerald-500"}),"THE CAST"]}),e.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Character visualizations and proposed talent."})]}),e.jsx(I,{variant:"accent",onClick:Pt,icon:e.jsx(a.Plus,{size:16}),children:"Add Casting Row"})]}),e.jsxs("div",{className:"space-y-6",children:[(Wt=s.castList)==null?void 0:Wt.map((t,g)=>e.jsxs("div",{className:"relative bg-zinc-900 border border-zinc-800 rounded-xl p-4 flex flex-col md:flex-row gap-6 items-center group hover:border-emerald-600/50 transition-colors",children:[e.jsx("button",{onClick:()=>qs(t.id),className:"absolute top-2 right-2 text-zinc-600 hover:text-red-500 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(a.Trash2,{size:16})}),e.jsx("div",{className:"text-zinc-600 font-mono font-bold text-xl opacity-30 md:block hidden",children:String(g+1).padStart(2,"0")}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-2 block tracking-wider",children:"Role / Character"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"w-24 h-24 bg-zinc-950 rounded-lg border border-zinc-800 flex items-center justify-center relative overflow-hidden shrink-0 group/img",children:[t.characterImage?e.jsx("img",{src:t.characterImage,className:"w-full h-full object-cover"}):e.jsx(a.User,{size:24,className:"text-zinc-700"}),e.jsxs("label",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover/img:opacity-100 cursor-pointer transition-opacity",children:[e.jsx(a.Upload,{size:16,className:"text-white"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:N=>Lt(N,t.id,"characterImage")})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsx("input",{className:"w-full bg-transparent text-lg font-bold text-white placeholder-zinc-700 outline-none border-b border-transparent focus:border-emerald-500 transition-colors",placeholder:"Character Name",value:t.characterName,onChange:N=>wt(t.id,{characterName:N.target.value})}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Concept Visual"})]})]})]}),e.jsx("div",{className:"text-zinc-700",children:e.jsx(a.ArrowRight,{size:24})}),e.jsxs("div",{className:"flex-1 w-full text-right md:text-left md:flex-row-reverse flex gap-4",children:[e.jsxs("div",{className:"w-24 h-24 bg-zinc-950 rounded-lg border border-zinc-800 flex items-center justify-center relative overflow-hidden shrink-0 group/img",children:[t.actorImage?e.jsx("img",{src:t.actorImage,className:"w-full h-full object-cover"}):e.jsx(a.User,{size:24,className:"text-zinc-700"}),e.jsxs("label",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover/img:opacity-100 cursor-pointer transition-opacity",children:[e.jsx(a.Upload,{size:16,className:"text-white"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:N=>Lt(N,t.id,"actorImage")})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center items-end md:items-start",children:[e.jsx("input",{className:"w-full bg-transparent text-lg font-bold text-white placeholder-zinc-700 outline-none border-b border-transparent focus:border-emerald-500 transition-colors text-right md:text-left",placeholder:"Proposed Actor",value:t.actorName,onChange:N=>wt(t.id,{actorName:N.target.value})}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Talent Headshot"})]})]})]},t.id)),(!s.castList||s.castList.length===0)&&e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-zinc-800 rounded-xl bg-zinc-900/30",children:[e.jsx(a.Users,{className:"mx-auto text-zinc-700 mb-4",size:48}),e.jsx("p",{className:"text-zinc-500",children:"No cast members added yet."}),e.jsx(I,{variant:"secondary",onClick:Pt,className:"mt-4",children:"Start Casting"})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-zinc-800 pb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white cinematic-font tracking-wide flex items-center gap-3",children:[e.jsx(a.Briefcase,{size:24,className:"text-blue-500"}),"THE CREW"]}),e.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Key production roles and heads of department."})]}),e.jsx(I,{variant:"secondary",onClick:Js,icon:e.jsx(a.Plus,{size:16}),children:"Add Crew Member"})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-zinc-950 text-zinc-500 text-xs uppercase font-bold tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-1/3",children:"Role / Department"}),e.jsx("th",{className:"p-4",children:"Name"}),e.jsx("th",{className:"p-4 w-16"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:(Yt=s.crewList)==null?void 0:Yt.map(t=>e.jsxs("tr",{className:"group hover:bg-zinc-800/30 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsx("input",{className:"w-full bg-transparent text-sm font-bold text-zinc-300 placeholder-zinc-600 outline-none focus:text-blue-400 transition-colors",placeholder:"e.g. Director",value:t.role,onChange:g=>Dt(t.id,{role:g.target.value})})}),e.jsx("td",{className:"p-4",children:e.jsx("input",{className:"w-full bg-transparent text-sm text-white placeholder-zinc-700 outline-none focus:text-white",placeholder:"Enter Name",value:t.name,onChange:g=>Dt(t.id,{name:g.target.value})})}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{onClick:()=>Xs(t.id),className:"text-zinc-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(a.Trash2,{size:14})})})]},t.id))})]}),(!s.crewList||s.crewList.length===0)&&e.jsx("div",{className:"p-8 text-center text-zinc-500 text-sm italic",children:"No crew roles defined."})]})]})]})}),$==="VAULT"&&e.jsx("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto w-full p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white cinematic-font flex items-center gap-3",children:[e.jsx(a.Box,{size:24,className:"text-orange-500"}),"CINEMA VAULT"]}),e.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Research, legal, and creative asset storage."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-1 flex",children:["ALL","IMAGE","VIDEO","DOCS"].map(t=>e.jsx("button",{onClick:()=>u(t),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${De===t?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:t},t))}),e.jsxs("label",{className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded-md cursor-pointer transition-colors font-bold text-sm shadow-lg shadow-orange-900/20",children:[e.jsx(a.Upload,{size:16}),"Upload Assets",e.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:Qs})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:[Ot().map(t=>e.jsxs("div",{className:"group bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden hover:border-orange-500/50 transition-all flex flex-col relative",children:[e.jsxs("div",{className:"aspect-square bg-zinc-950 relative flex items-center justify-center overflow-hidden",children:[t.type==="IMAGE"&&e.jsx("img",{src:t.url,className:"w-full h-full object-cover"}),t.type==="VIDEO"&&e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("video",{src:t.url,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:e.jsx(a.Play,{size:32,className:"text-white opacity-80"})})]}),t.type==="PDF"&&e.jsx(a.FileText,{size:48,className:"text-red-500"}),t.type==="TEXT"&&e.jsx(a.FileText,{size:48,className:"text-zinc-500"}),t.type==="ARCHIVE"&&e.jsx(a.Archive,{size:48,className:"text-yellow-500"}),t.type==="AUDIO"&&e.jsx(a.Mic,{size:48,className:"text-pink-500"}),t.type==="UNKNOWN"&&e.jsx(a.File,{size:48,className:"text-zinc-600"}),e.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2 p-4 text-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(t),className:"p-2 bg-zinc-800 rounded-full hover:bg-white hover:text-black transition-colors",title:"Edit Details",children:e.jsx(a.Settings,{size:16})}),e.jsx("a",{href:t.url,download:t.fileName,className:"p-2 bg-zinc-800 rounded-full hover:bg-white hover:text-black transition-colors",title:"Download",children:e.jsx(a.Download,{size:16})}),e.jsx("button",{onClick:()=>ea(t.id),className:"p-2 bg-zinc-800 rounded-full hover:bg-red-600 hover:text-white transition-colors",title:"Delete",children:e.jsx(a.Trash2,{size:16})})]}),e.jsx("p",{className:"text-[10px] text-zinc-400 mt-2 line-clamp-3",children:t.description||"No description provided."})]})]}),e.jsxs("div",{className:"p-3 bg-zinc-900 border-t border-zinc-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.type==="PDF"&&e.jsx(a.FileText,{size:12,className:"text-red-500"}),t.type==="IMAGE"&&e.jsx(a.Image,{size:12,className:"text-blue-500"}),t.type==="VIDEO"&&e.jsx(a.Video,{size:12,className:"text-purple-500"}),e.jsx("h4",{className:"text-xs font-bold text-zinc-200 truncate flex-1",children:t.title})]}),e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-600",children:[e.jsx("span",{children:t.fileSize}),e.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()})]})]})]},t.id)),Ot().length===0&&e.jsxs("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-zinc-800 rounded-xl bg-zinc-900/20",children:[e.jsx(a.Box,{size:48,className:"mx-auto text-zinc-700 mb-4"}),e.jsx("h3",{className:"text-zinc-400 font-bold",children:"Vault Empty"}),e.jsx("p",{className:"text-zinc-600 text-sm mt-1",children:"Upload research, documents, or media to secure them."})]})]}),f&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-md w-full shadow-2xl",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Edit Asset Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-1",children:"Title"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm",value:f.title,onChange:t=>C({...f,title:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-1",children:"Context Note"}),e.jsx("textarea",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm h-24 resize-none",placeholder:"Add context about this file...",value:f.description,onChange:t=>C({...f,description:t.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(I,{variant:"ghost",onClick:()=>C(null),children:"Cancel"}),e.jsx(I,{variant:"accent",onClick:()=>{Zs(f.id,{title:f.title,description:f.description}),C(null)},children:"Save Changes"})]})]})]})})]})}),$==="DECK"&&se&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 p-8 flex flex-col items-center justify-center relative overflow-hidden bg-zinc-900/30",children:e.jsx("div",{className:"w-full aspect-video bg-black shadow-2xl relative group rounded-md overflow-hidden ring-1 ring-zinc-800",children:e.jsx("img",{src:se.imageUrl||ut,className:`absolute inset-0 w-full h-full object-cover ${se.imageUrl?"opacity-100":"opacity-30 grayscale"}`})})}),e.jsxs("div",{className:"w-96 border-l border-zinc-800 bg-zinc-900 flex flex-col overflow-y-auto p-6 space-y-6",children:[e.jsxs("section",{children:[se.description&&e.jsxs("div",{className:"bg-zinc-950/50 border border-zinc-800 rounded-lg p-4 mb-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(a.Info,{size:14,className:"text-amber-500"}),e.jsx("span",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:"Slide Objective"})]}),e.jsx("p",{className:"text-sm text-zinc-200 leading-relaxed font-medium",children:se.description})]}),e.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[e.jsx("h3",{className:"text-xs font-bold text-amber-500",children:"TEXT CONTENT"}),e.jsx(I,{variant:"ghost",className:"text-xs h-6 px-2 text-zinc-400",onClick:r,isLoading:j,children:"AI Write"})]}),e.jsx("textarea",{className:"w-full h-32 bg-zinc-950 border border-zinc-800 rounded p-3 text-sm text-zinc-300 outline-none focus:ring-1 focus:ring-amber-900",value:se.content,onChange:t=>n(se.id,{content:t.target.value}),placeholder:se.placeholder||V.textContent})]}),e.jsxs("section",{children:[e.jsx("div",{className:"flex justify-between mb-2",children:e.jsx("h3",{className:"text-xs font-bold text-amber-500",children:"VISUALS"})}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-xs text-zinc-300 mb-2",onChange:Ds,value:J,children:[e.jsx("option",{value:"",children:"Director Style..."}),fi.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("div",{className:"relative mb-2",children:[e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded p-3 text-sm text-zinc-300 outline-none focus:ring-1 focus:ring-amber-900",placeholder:"Image Prompt...",value:se.imagePrompt,onChange:t=>n(se.id,{imagePrompt:t.target.value})}),e.jsx("button",{className:"absolute bottom-2 right-2 text-amber-500 hover:text-amber-400",onClick:()=>A(J),disabled:U,children:e.jsx(a.Wand2,{size:14})})]}),e.jsx(I,{className:"w-full",variant:"accent",onClick:G,disabled:!se.imagePrompt,isLoading:Y,children:"Generate Image"}),e.jsxs("label",{className:"flex items-center justify-center w-full mt-2 py-2 border border-zinc-800 rounded text-xs text-zinc-500 hover:bg-zinc-800 cursor-pointer transition-colors",children:[e.jsx(a.Upload,{size:12,className:"mr-2"})," Upload Custom Image",e.jsx("input",{type:"file",accept:"image/*",onChange:de,className:"hidden"})]})]})]})]}),$==="SCRIPT"&&e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-hidden relative",children:[e.jsxs("div",{className:"h-16 border-b border-zinc-800 bg-zinc-900/50 flex items-center justify-between px-6 shrink-0",children:[e.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2 cinematic-font tracking-wide",children:[e.jsx(a.ScrollText,{size:20,className:"text-indigo-500"}),"SCRIPT ",e.jsx("span",{className:"text-indigo-500",children:"MAGIC"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(I,{variant:"secondary",className:"text-xs",onClick:Ms,isLoading:ft,children:[e.jsx(a.Wand2,{size:14,className:"mr-2"})," Generate Roadmap"]})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 border-r border-zinc-800 bg-zinc-900/30 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800 bg-zinc-900/50 sticky top-0 z-10",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-2",children:"The Seed Concept"}),e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-sm text-white resize-none focus:border-indigo-500 outline-none",placeholder:"Enter your 20-line story idea here...",value:Pe,onChange:t=>bt(t.target.value)})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[(Kt=s.scriptRoadmap)==null?void 0:Kt.map((t,g)=>e.jsxs("div",{onClick:()=>kt(t),className:`p-3 rounded-lg border cursor-pointer transition-all ${Le===t.id?"bg-indigo-900/20 border-indigo-500 shadow-lg":"bg-zinc-900/50 border-zinc-800 hover:border-zinc-600"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsxs("span",{className:"text-[10px] font-mono text-zinc-500 font-bold",children:["BEAT ",g+1]}),Le===t.id&&Ze&&e.jsx(a.Loader2,{size:12,className:"animate-spin text-indigo-500"})]}),e.jsx("h4",{className:`text-sm font-bold mb-1 ${Le===t.id?"text-white":"text-zinc-300"}`,children:t.title}),e.jsx("p",{className:"text-xs text-zinc-500 leading-snug",children:t.aiSuggestion||t.description})]},t.id)),(!s.scriptRoadmap||s.scriptRoadmap.length===0)&&e.jsxs("div",{className:"p-8 text-center text-zinc-600",children:[e.jsx(a.Layers,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:'Enter your concept above and click "Generate Roadmap" to create the 12-point structure.'})]})]})]}),e.jsx("div",{className:"flex-1 flex flex-col bg-[#1a1a1a] relative",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-8 flex justify-center",children:e.jsx("div",{className:"w-full max-w-3xl h-full",children:e.jsx("textarea",{className:"w-full h-full min-h-[800px] bg-transparent text-zinc-300 font-mono text-base leading-relaxed outline-none resize-none selection:bg-indigo-500/30 pb-32",placeholder:"INT. SCENE 1 - DAY...",value:s.fullScript,onChange:t=>L&&L({fullScript:t.target.value}),spellCheck:!1})})})}),Le&&e.jsxs("div",{className:"w-96 border-l border-zinc-800 bg-zinc-900 flex flex-col animate-in slide-in-from-right duration-300 shadow-2xl z-20",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950/80 backdrop-blur",children:[e.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[e.jsx(a.Sparkles,{size:16,className:"text-indigo-500"})," Twist Engine"]}),e.jsx("button",{onClick:()=>Xe(null),className:"text-zinc-500 hover:text-white",children:e.jsx(a.X,{size:16})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Ze?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-zinc-500 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-zinc-800 rounded-full"}),e.jsx("div",{className:"w-12 h-12 border-4 border-t-indigo-500 rounded-full absolute top-0 left-0 animate-spin"})]}),e.jsx("p",{className:"text-xs animate-pulse",children:"Consulting the Creative Director..."})]}):nt.map((t,g)=>e.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-4 hover:border-indigo-500/50 transition-all group relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${t.type==="Classic"?"bg-blue-500":t.type==="Emotional"?"bg-pink-500":"bg-amber-500"}`}),e.jsxs("div",{className:"pl-3",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider ${t.type==="Classic"?"bg-blue-900/30 text-blue-400":t.type==="Emotional"?"bg-pink-900/30 text-pink-400":"bg-amber-900/30 text-amber-400"}`,children:[t.type," Path"]})}),e.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:t.title}),e.jsx("p",{className:"text-xs text-zinc-400 leading-relaxed mb-4",children:t.content}),e.jsxs(I,{variant:"secondary",className:"w-full text-xs h-8 group-hover:bg-indigo-600 group-hover:text-white group-hover:border-indigo-500 transition-colors",onClick:()=>Us(t.content),children:[e.jsx(a.Plus,{size:14,className:"mr-2"})," Add to Script"]})]})]},g)),!Ze&&nt.length>0&&e.jsxs(I,{variant:"ghost",className:"w-full text-xs text-zinc-500 hover:text-white",onClick:()=>{var g;const t=(g=s.scriptRoadmap)==null?void 0:g.find(N=>N.id===Le);t&&kt(t)},children:[e.jsx(a.RotateCcw,{size:14,className:"mr-2"})," Spin Again (Regenerate)"]})]})]})]})]}),$==="CHARACTERS"&&(z?e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-hidden relative",children:[Ke&&z.imageUrl&&e.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-8 cursor-zoom-out",onClick:()=>Ue(!1),children:e.jsx("img",{src:z.imageUrl,className:"max-w-full max-h-full object-contain drop-shadow-2xl border border-zinc-800"})}),e.jsxs("div",{className:"h-[50vh] min-h-[400px] border-b border-zinc-800 flex bg-zinc-900/20 shrink-0",children:[e.jsx("div",{className:"flex-1 p-4 flex items-center justify-center relative",children:e.jsxs("div",{className:"h-full relative group cursor-zoom-in flex items-center justify-center",onClick:()=>Ue(!0),children:[e.jsx("img",{src:z.imageUrl||ut,className:`max-h-full max-w-full object-contain rounded border border-zinc-800 shadow-xl ${z.imageUrl?"":"opacity-10 grayscale"}`}),!z.imageUrl&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"text-center",children:[e.jsx(a.User,{size:48,className:"text-zinc-700 mx-auto mb-2"}),e.jsx("p",{className:"text-zinc-600 text-xs",children:"Preview Area"})]})})]})}),e.jsxs("div",{className:"w-64 border-l border-zinc-800 flex flex-col bg-zinc-900/50 divide-y divide-zinc-800 overflow-y-auto",children:[e.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center justify-center relative",children:[e.jsxs("p",{className:"text-[10px] text-amber-500 mb-2 uppercase tracking-widest font-bold flex items-center gap-1",children:[e.jsx(a.User,{size:12})," Face Ref (Identity)"]}),e.jsxs("div",{className:"w-full aspect-square bg-zinc-900 border border-dashed border-zinc-700 rounded flex items-center justify-center relative group",children:[z.referenceImageUrl?e.jsx("img",{src:z.referenceImageUrl,className:"w-full h-full object-cover rounded opacity-80"}):e.jsx(a.Plus,{className:"text-zinc-600"}),e.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:t=>It(t,"FACE")}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-xs text-white pointer-events-none transition-opacity",children:"Change"})]})]}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center justify-center relative",children:[e.jsxs("p",{className:"text-[10px] text-blue-500 mb-2 uppercase tracking-widest font-bold flex items-center gap-1",children:[e.jsx(a.Activity,{size:12})," Pose Ref (Body)"]}),e.jsxs("div",{className:"w-full aspect-square bg-zinc-900 border border-dashed border-zinc-700 rounded flex items-center justify-center relative group",children:[z.actionReferenceImageUrl?e.jsx("img",{src:z.actionReferenceImageUrl,className:"w-full h-full object-cover rounded opacity-80"}):e.jsx(a.Plus,{className:"text-zinc-600"}),e.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:t=>It(t,"ACTION")}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-xs text-white pointer-events-none transition-opacity",children:"Change"})]})]})]})]}),e.jsx("div",{className:"flex-1 bg-zinc-900 overflow-y-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8 p-4 bg-zinc-950 border border-zinc-800 rounded-xl relative",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("label",{className:"text-xs font-bold text-amber-500 uppercase tracking-wider",children:"Visual Prompt Generator"}),e.jsxs("button",{onClick:ta,className:"text-xs text-zinc-400 hover:text-white flex items-center gap-1 transition-colors",children:[e.jsx(a.Wand2,{size:12})," Auto-fill from Options"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("textarea",{className:"flex-1 h-24 bg-zinc-900 border border-zinc-800 rounded-lg p-3 text-sm text-zinc-200 outline-none focus:border-amber-600 resize-none font-mono",value:z.visualPrompt,onChange:t=>H(z.id,{visualPrompt:t.target.value})}),e.jsx("div",{className:"flex flex-col gap-2 w-48 justify-end",children:e.jsxs(I,{variant:"accent",className:"h-full w-full flex flex-col items-center justify-center gap-2",onClick:sa,isLoading:we,children:[e.jsx(a.Wand2,{size:24}),e.jsx("span",{children:"Generate Image"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6 opacity-80 hover:opacity-100 transition-opacity",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase border-b border-zinc-800 pb-2",children:"1. Identity"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Full Name"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",value:z.name,onChange:t=>H(z.id,{name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Role Type"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",value:z.roleType,onChange:t=>H(z.id,{roleType:t.target.value}),children:xi.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase border-b border-zinc-800 pb-2",children:"2. Anatomy"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Gender"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",value:z.gender,onChange:t=>H(z.id,{gender:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Body Type"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",value:z.bodyType,onChange:t=>H(z.id,{bodyType:t.target.value}),children:gi.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase border-b border-zinc-800 pb-2",children:"3. Style & Origin"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Nationality"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",value:z.nationality,onChange:t=>H(z.id,{nationality:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Era"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",value:z.era,onChange:t=>H(z.id,{era:t.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase border-b border-zinc-800 pb-2",children:"4. Performance"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Expression"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",value:z.expression,onChange:t=>H(z.id,{expression:t.target.value}),children:bi.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 uppercase tracking-wider block mb-1",children:"Render Style"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm outline-none",onChange:t=>H(z.id,{visualPrompt:z.visualPrompt+" "+t.target.value}),children:mi.map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]})]})})]}):yt(a.Users,"No Character Selected","Create a new character.",Et,"Create Character")),$==="POSTERS"&&(_?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center bg-zinc-950 relative",children:[e.jsxs("div",{className:`transition-all duration-300 bg-zinc-900 shadow-2xl border border-zinc-800 relative overflow-hidden group ${_.aspectRatio==="2:3"?"h-[75vh] aspect-[2/3]":_.aspectRatio==="16:9"?"w-[80%] aspect-video":"h-[65vh] aspect-square"}`,children:[_.imageUrl?e.jsx("img",{src:_.imageUrl,className:"w-full h-full object-contain"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(a.Image,{size:64,className:"opacity-20"})}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-end pb-20 text-center bg-gradient-to-t from-black via-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("h1",{className:"text-4xl font-bold text-white uppercase tracking-widest drop-shadow-xl cinematic-font",children:_.title}),e.jsx("p",{className:"text-amber-500 tracking-widest text-sm mt-2 uppercase",children:_.tagline})]})]}),_.imageUrl&&e.jsx("div",{className:"mt-4 flex gap-2 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsxs(I,{variant:"secondary",className:"bg-zinc-800 text-white border-zinc-700 hover:bg-zinc-700 hover:text-white",onClick:()=>aa(_.imageUrl,`${_.title.replace(/\s+/g,"_")}_Poster.png`),children:[e.jsx(a.Download,{size:18,className:"mr-2"})," Download Poster"]})})]}),e.jsxs("div",{className:"w-80 border-l border-zinc-800 bg-zinc-900 p-6 space-y-6 overflow-y-auto",children:[e.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(a.Image,{size:20,className:"text-green-500"})," Poster Studio"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>q(_.id,{aspectRatio:"2:3"}),className:`p-2 rounded border flex flex-col items-center gap-1 ${_.aspectRatio==="2:3"?"bg-amber-600 border-amber-500 text-white":"bg-zinc-950 border-zinc-800 text-zinc-500"}`,children:[e.jsx(a.RectangleVertical,{size:16}),e.jsx("span",{className:"text-[10px]",children:"9:16"})]}),e.jsxs("button",{onClick:()=>q(_.id,{aspectRatio:"1:1"}),className:`p-2 rounded border flex flex-col items-center gap-1 ${_.aspectRatio==="1:1"?"bg-amber-600 border-amber-500 text-white":"bg-zinc-950 border-zinc-800 text-zinc-500"}`,children:[e.jsx(a.Square,{size:16}),e.jsx("span",{className:"text-[10px]",children:"1:1"})]}),e.jsxs("button",{onClick:()=>q(_.id,{aspectRatio:"16:9"}),className:`p-2 rounded border flex flex-col items-center gap-1 ${_.aspectRatio==="16:9"?"bg-amber-600 border-amber-500 text-white":"bg-zinc-950 border-zinc-800 text-zinc-500"}`,children:[e.jsx(a.RectangleHorizontal,{size:16}),e.jsx("span",{className:"text-[10px]",children:"16:9"})]})]}),e.jsxs("div",{className:"p-4 bg-zinc-950 border border-zinc-800 rounded-lg space-y-3",children:[e.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(a.User,{size:12})," Starring / Reference"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 block mb-1",children:"Select Character"}),e.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 rounded p-2 text-white text-xs mb-2",value:_.characterRefId||"",onChange:t=>q(_.id,{characterRefId:t.target.value}),children:[e.jsx("option",{value:"",children:"-- No Specific Character --"}),(qt=s.characters)==null?void 0:qt.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.roleType,")"]},t.id))]})]}),e.jsxs("div",{className:"relative border-t border-zinc-900 pt-2",children:[e.jsx("label",{className:"text-[10px] text-zinc-400 block mb-1",children:"Or Upload Reference Image"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-10 h-10 bg-zinc-900 rounded border border-dashed border-zinc-700 flex items-center justify-center relative overflow-hidden group",children:[_.referenceImageUrl?e.jsx("img",{src:_.referenceImageUrl,className:"w-full h-full object-cover"}):e.jsx(a.Upload,{size:14,className:"text-zinc-600"}),e.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:$s})]}),e.jsx("span",{className:"text-[10px] text-zinc-500 italic",children:_.referenceImageUrl?"Reference Loaded":"Upload File"})]})]})]}),e.jsxs("div",{className:"p-4 bg-zinc-950 border border-zinc-800 rounded-lg space-y-3",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Content"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 block mb-1",children:"Movie Title"}),e.jsx("input",{className:"w-full bg-zinc-900 border border-zinc-800 rounded p-2 text-white text-sm",value:_.title,onChange:t=>q(_.id,{title:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 block mb-1",children:"Tagline"}),e.jsx("input",{className:"w-full bg-zinc-900 border border-zinc-800 rounded p-2 text-white text-sm",value:_.tagline,onChange:t=>q(_.id,{tagline:t.target.value})})]})]}),e.jsxs("div",{className:"p-4 bg-zinc-950 border border-zinc-800 rounded-lg space-y-3",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Art Direction"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 block mb-1",children:V.posterComposition}),e.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 rounded p-2 text-white text-xs",value:te,onChange:t=>it(t.target.value),children:[e.jsx("option",{value:"",children:"Auto / Standard"}),ui.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-400 block mb-1",children:V.posterPalette}),e.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-800 rounded p-2 text-white text-xs",value:rt,onChange:t=>gt(t.target.value),children:[e.jsx("option",{value:"",children:"Auto / Standard"}),pi.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-1",children:[e.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold block",children:"Visual Prompt"}),e.jsxs("button",{onClick:Vs,disabled:we,className:"text-xs text-amber-500 hover:text-amber-400 flex items-center gap-1 transition-colors disabled:opacity-50",children:[e.jsx(a.Wand2,{size:12})," Auto-Generate from Script"]})]}),e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs resize-none",value:_.prompt,onChange:t=>q(_.id,{prompt:t.target.value}),placeholder:"Describe the imagery..."})]}),e.jsxs(I,{className:"w-full py-4 text-sm font-bold",variant:"accent",onClick:()=>{const t=`Movie Poster Art. Title: "${_.title}". ${_.prompt}. Composition: ${te}. Colors: ${rt}. High resolution, cinematic key art, textless --ar ${_.aspectRatio.replace(":","-")}`;At(t,"POSTER",_.id,_.aspectRatio)},isLoading:we,children:[e.jsx(a.Wand2,{size:16,className:"mr-2"})," Generate Poster"]})]})]})]}):yt(a.Image,"Poster Loft","Create high-concept key art for your film.",Rt,"New Poster Project")),$==="STORYBOARD"&&(E?e.jsxs("div",{className:"flex-1 flex h-full bg-zinc-950 overflow-hidden flex-row",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-black/20",children:[e.jsxs("div",{className:"p-4 bg-zinc-900 border-b border-zinc-800 flex gap-4 items-start shrink-0",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-sm text-zinc-300 outline-none focus:border-amber-600 resize-none font-mono",placeholder:"Describe your scene or shot concept here...",value:E.visualPrompt||E.action,onChange:t=>y(E.id,{visualPrompt:t.target.value})}),e.jsx("span",{className:"absolute bottom-2 right-2 text-[10px] text-zinc-600 uppercase font-bold",children:"AI Prompt Input"})]}),e.jsxs(I,{variant:"accent",className:"h-24 w-32 flex flex-col items-center justify-center gap-1",onClick:Hs,isLoading:we,children:[e.jsx(a.Wand2,{size:20}),e.jsxs("span",{className:"text-[10px] uppercase font-bold text-center",children:["Generate",e.jsx("br",{}),"Prompt"]})]})]}),e.jsxs("div",{className:"flex-1 bg-black flex flex-col relative overflow-hidden",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:e.jsxs("div",{className:"aspect-video w-full max-w-4xl bg-zinc-900 border border-zinc-800 shadow-2xl relative overflow-hidden group",children:[E.imageUrl?e.jsx("img",{src:E.imageUrl,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[e.jsx(a.Clapperboard,{size:64,className:"text-zinc-800 mb-4"}),e.jsx("p",{className:"text-zinc-600 text-sm font-mono",children:"NO SIGNAL"})]}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:[e.jsx("div",{className:"w-full h-full border-[20px] border-transparent",style:{boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.2)"}}),e.jsx("div",{className:"absolute top-1/3 w-full h-px bg-white/10"}),e.jsx("div",{className:"absolute top-2/3 w-full h-px bg-white/10"}),e.jsx("div",{className:"absolute left-1/3 h-full w-px bg-white/10"}),e.jsx("div",{className:"absolute left-2/3 h-full w-px bg-white/10"})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-[10px] font-mono text-amber-500 bg-black/80 px-2 py-1 rounded",children:[E.lensType," | ",E.cameraAngle," | ",E.shotSize]})]})}),e.jsx("div",{className:"h-16 flex items-center justify-between px-8 bg-gradient-to-t from-zinc-900 to-transparent absolute bottom-24 left-0 right-0 z-10",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"accent",onClick:Tt,isLoading:we,children:"Render Shot"}),e.jsx(I,{variant:"secondary",onClick:Tt,isLoading:we,disabled:!E.imageUrl,children:"Render Again"}),e.jsxs("label",{className:"inline-flex items-center justify-center px-4 py-2 rounded-md font-medium bg-zinc-800 text-zinc-100 hover:bg-zinc-700 focus:ring-zinc-600 border border-zinc-700 cursor-pointer",children:[e.jsx(a.Upload,{size:16,className:"mr-2"})," Upload Frame",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Bs})]})]})}),e.jsxs("div",{className:"h-24 bg-zinc-900 border-t border-zinc-800 flex items-center px-4 gap-2 overflow-x-auto z-20 shrink-0",children:[(Jt=E.generatedVariants)==null?void 0:Jt.map((t,g)=>e.jsx("div",{onClick:()=>y(E.id,{imageUrl:t}),className:`h-16 aspect-video rounded cursor-pointer border-2 overflow-hidden transition-all ${E.imageUrl===t?"border-amber-500 scale-105":"border-zinc-700 opacity-50 hover:opacity-100"}`,children:e.jsx("img",{src:t,className:"w-full h-full object-cover"})},g)),!((Xt=E.generatedVariants)!=null&&Xt.length)&&e.jsx("div",{className:"text-xs text-zinc-600 italic px-4",children:"Generated versions will appear here..."})]})]})]}),e.jsxs("div",{className:"w-80 border-l border-zinc-800 bg-zinc-900 p-6 overflow-y-auto shrink-0 z-30 shadow-xl",children:[e.jsxs("h3",{className:"text-xs font-bold text-white mb-4 uppercase flex items-center gap-2",children:[e.jsx(a.Activity,{size:14,className:"text-amber-500"})," Action Logic"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Scene Heading"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs font-mono font-bold",value:E.heading,onChange:t=>y(E.id,{heading:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Action Description"}),e.jsx("textarea",{className:"w-full h-20 bg-zinc-950 border border-zinc-800 rounded p-2 text-zinc-300 text-sm resize-none",value:E.action,onChange:t=>y(E.id,{action:t.target.value})})]}),e.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[e.jsxs("h4",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-3 flex items-center gap-1",children:[e.jsx(a.Users,{size:12})," Casting / Actors"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Character 1"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-zinc-800 border border-zinc-700 overflow-hidden shrink-0",children:(Zt=(Qt=s.characters)==null?void 0:Qt.find(t=>t.id===E.characterRef1Id))!=null&&Zt.imageUrl?e.jsx("img",{src:s.characters.find(t=>t.id===E.characterRef1Id).imageUrl,className:"w-full h-full object-cover"}):e.jsx(a.User,{size:16,className:"m-2 text-zinc-600"})}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:E.characterRef1Id||"",onChange:t=>y(E.id,{characterRef1Id:t.target.value}),children:[e.jsx("option",{value:"",children:"None"}),(es=s.characters)==null?void 0:es.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Character 2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-zinc-800 border border-zinc-700 overflow-hidden shrink-0",children:(ss=(ts=s.characters)==null?void 0:ts.find(t=>t.id===E.characterRef2Id))!=null&&ss.imageUrl?e.jsx("img",{src:s.characters.find(t=>t.id===E.characterRef2Id).imageUrl,className:"w-full h-full object-cover"}):e.jsx(a.User,{size:16,className:"m-2 text-zinc-600"})}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:E.characterRef2Id||"",onChange:t=>y(E.id,{characterRef2Id:t.target.value}),children:[e.jsx("option",{value:"",children:"None"}),(as=s.characters)==null?void 0:as.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})]})]})]}),e.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[e.jsxs("h4",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-3 flex items-center gap-1",children:[e.jsx(a.Camera,{size:12})," Camera Logic"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Lens"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:E.lensType||"35mm",onChange:t=>y(E.id,{lensType:t.target.value}),children:wi.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Angle"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:E.cameraAngle||"Eye Level",onChange:t=>y(E.id,{cameraAngle:t.target.value}),children:Ni.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-600 block mb-1",children:"Shot Size"}),e.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:E.shotSize||"Wide",onChange:t=>y(E.id,{shotSize:t.target.value}),children:ji.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]})]})]}),e.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-2 block",children:"Image Style"}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs mb-2",value:E.imageStyle||"",onChange:t=>y(E.id,{imageStyle:t.target.value}),children:[e.jsx("option",{value:"",children:"Select Style..."}),hi.map(t=>e.jsx("option",{value:t,children:t},t)),e.jsx("option",{value:"Custom",children:"Custom / Other"})]}),E.imageStyle==="Custom"&&e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"Type custom style...",onChange:t=>y(E.id,{imageStyle:t.target.value})})]}),e.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-2 block",children:"Color Grading / Mood"}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs mb-2",value:E.colorGrade||"",onChange:t=>y(E.id,{colorGrade:t.target.value}),children:[e.jsx("option",{value:"",children:"Select Look..."}),vi.map(t=>e.jsx("option",{value:t,children:t},t)),e.jsx("option",{value:"Custom",children:"Custom / Other"})]}),E.colorGrade==="Custom"&&e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"Type custom grading...",onChange:t=>y(E.id,{colorGrade:t.target.value})})]}),e.jsxs("div",{className:"mt-6 border-t border-zinc-800 pt-6",children:[e.jsxs("h3",{className:"text-xs font-bold text-zinc-500 uppercase mb-3 flex items-center gap-2",children:[e.jsx(a.Camera,{size:14,className:"text-blue-500"})," Visual Shot Guide"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"XCU",id:"XCU",type:"shotSize",icon:a.Eye},{label:"CU",id:"CU",type:"shotSize",icon:a.User},{label:"MCU",id:"MCU",type:"shotSize",icon:a.User,iconScale:.8},{label:"LOW",id:"LOW",type:"cameraAngle",icon:a.ArrowUp},{label:"EYE",id:"EYE",type:"cameraAngle",icon:a.Eye},{label:"HIGH",id:"HIGH",type:"cameraAngle",icon:a.ArrowUp,rotate:180},{label:"WIDE",id:"WIDE",type:"shotSize",icon:a.Grid},{label:"2-SHOT",id:"2-SHOT",type:"shotSize",icon:a.Users},{label:"OTS",id:"OTS",type:"shotSize",icon:a.User,special:"ots"},{label:"DUTCH",id:"DUTCH",type:"cameraAngle",icon:a.Video,rotate:12},{label:"BIRD",id:"OVERHEAD",type:"cameraAngle",icon:a.Aperture},{label:"POV",id:"POV",type:"cameraAngle",icon:a.Maximize2}].map(t=>e.jsxs("button",{onClick:()=>y(E.id,{[t.type]:t.id}),className:`
                                   p-3 rounded-lg border flex flex-col items-center justify-center gap-2 transition-all group
                                   ${E[t.type]===t.id?"bg-amber-900/40 border-amber-600 text-white shadow-[0_0_10px_rgba(245,158,11,0.2)]":"bg-zinc-900 border-zinc-800 text-zinc-500 hover:bg-zinc-800 hover:text-zinc-300 hover:border-zinc-700"}
                                 `,children:[e.jsx("div",{className:`transition-transform ${t.rotate?`rotate-${t.rotate}`:""}`,children:t.special==="ots"?e.jsxs("div",{className:"relative",children:[e.jsx(a.User,{size:20,className:"opacity-40"}),e.jsx(a.User,{size:14,className:"absolute -bottom-1 -right-1"})]}):e.jsx(t.icon,{size:20,className:t.iconScale?"scale-75":""})}),e.jsx("span",{className:"text-[10px] font-bold tracking-wider",children:t.label})]},t.label))})]})]})]})]}):yt(a.Clapperboard,"Storyboard Studio","Select a shot from the timeline sidebar to edit technical details.",oe,"Create First Shot")),$==="LOCATION"&&e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-zinc-800 bg-zinc-900/50",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Scene Requirement"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white text-sm",placeholder:"e.g. A misty, abandoned railway bridge surrounded by dense jungle.",value:He,onChange:t=>vt(t.target.value)})]}),e.jsxs("div",{className:"w-64",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Target Region"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white text-sm",placeholder:"e.g. Kerala, India",value:ct,onChange:t=>jt(t.target.value)})]}),e.jsxs(I,{variant:"accent",className:"h-[46px] px-6 bg-teal-600 hover:bg-teal-500",onClick:Ys,isLoading:Ve,children:[e.jsx(a.MapPin,{size:18,className:"mr-2"})," Scout Locations"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[dt.map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden group hover:border-teal-500/50 transition-all",children:[e.jsxs("div",{className:"aspect-video bg-black relative",children:[t.imageUrl?e.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"w-full h-full flex items-center justify-center flex-col text-zinc-700",children:[e.jsx(a.Image,{size:32,className:"mb-2 opacity-50"}),e.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"No Visual Yet"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:e.jsxs(I,{variant:"secondary",className:"text-xs",onClick:()=>Ks(t),isLoading:Ve,children:[e.jsx(a.Wand2,{size:14,className:"mr-2"})," Visualize Scene Here"]})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-white text-lg leading-tight",children:t.name}),e.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.name+" "+(t.coordinates||""))}`,target:"_blank",rel:"noreferrer",className:"text-teal-500 hover:text-white transition-colors",title:"View on Google Maps",children:e.jsx(a.ExternalLink,{size:16})})]}),e.jsx("p",{className:"text-xs text-zinc-400 mb-4 line-clamp-3",children:t.description}),e.jsxs("div",{className:"p-3 bg-zinc-950 rounded border border-zinc-800",children:[e.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1",children:"Scout Analysis"}),e.jsxs("p",{className:"text-xs text-zinc-300 italic",children:['"',t.suitability,'"']})]})]})]},t.id)),dt.length===0&&!Ve&&e.jsxs("div",{className:"col-span-full text-center py-20 text-zinc-600",children:[e.jsx(a.Globe,{size:64,className:"mx-auto mb-4 opacity-30"}),e.jsx("h3",{className:"text-xl font-bold text-zinc-400",children:"Global Location Database"}),e.jsx("p",{className:"text-sm max-w-md mx-auto mt-2",children:"Enter your scene requirements above to find real-world filming locations that match your vision."})]})]})})]}),$==="AUDIO"&&e.jsxs("div",{className:"flex-1 bg-zinc-950 p-8 overflow-y-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6 cinematic-font",children:"Audio Assets"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(is=s.audioAssets)==null?void 0:is.map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-lg flex items-center gap-4",children:[e.jsx("button",{className:"w-12 h-12 rounded-full bg-amber-600 flex items-center justify-center text-white hover:bg-amber-500 transition-colors",onClick:()=>{new Audio(t.audioUrl).play()},children:e.jsx(a.Play,{size:20,fill:"currentColor"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-white truncate",children:t.text}),e.jsx("p",{className:"text-xs text-zinc-500",children:t.voice})]}),e.jsx("a",{href:t.audioUrl,download:`audio-${t.id}.wav`,className:"text-zinc-500 hover:text-white",children:e.jsx(a.Upload,{size:16,className:"rotate-180"})})]},t.id)),(!s.audioAssets||s.audioAssets.length===0)&&e.jsxs("div",{className:"col-span-full text-center text-zinc-600 py-12",children:[e.jsx(a.Mic,{size:48,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No audio clips generated yet."})]})]})]}),$==="TRAILER"&&e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-zinc-950 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-zinc-800 bg-zinc-900/50",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-2 block",children:"Video Prompt"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white text-sm",placeholder:"Describe the motion, subject, and style for the video clip...",value:Se,onChange:t=>qe(t.target.value)})]}),e.jsxs(I,{variant:"accent",className:"h-[46px] px-6 bg-red-600 hover:bg-red-500",onClick:_s,isLoading:Re,children:[e.jsx(a.Video,{size:18,className:"mr-2"})," Generate with Veo"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsxs("label",{className:"border-2 border-dashed border-zinc-800 rounded-xl bg-zinc-900/50 hover:bg-zinc-900 hover:border-zinc-700 transition-all cursor-pointer flex flex-col items-center justify-center min-h-[200px] text-zinc-600 hover:text-white group",children:[e.jsx(a.Upload,{size:48,className:"mb-4 group-hover:scale-110 transition-transform text-zinc-700 group-hover:text-zinc-500"}),e.jsx("h3",{className:"font-bold",children:"Upload Video"}),e.jsx("p",{className:"text-xs mt-1 opacity-50",children:"MP4, WebM (Max 50MB)"}),e.jsx("input",{type:"file",accept:"video/*",className:"hidden",onChange:Os})]}),(rs=s.videos)==null?void 0:rs.map(t=>e.jsxs("div",{onClick:()=>$e(t),className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden group hover:border-red-600/50 transition-all cursor-pointer relative",children:[je&&e.jsx("button",{onClick:g=>{g.stopPropagation(),window.confirm("Are you sure you want to delete this video?")&&je(t.id)},className:"absolute top-2 right-2 z-20 p-2 bg-red-600 hover:bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete Video",children:e.jsx(a.Trash2,{size:14})}),e.jsxs("div",{className:"aspect-video bg-black relative",children:[e.jsx("video",{src:t.url+"#t=0.5",className:"w-full h-full object-cover pointer-events-none",muted:!0,preload:"metadata"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur flex items-center justify-center text-white",children:e.jsx(a.Play,{size:24,fill:"currentColor"})})}),t.source==="AI"&&e.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 bg-red-600 text-white text-[9px] font-bold rounded uppercase tracking-wider",children:"Veo AI"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-white text-sm truncate",children:t.title}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:new Date(t.createdAt).toLocaleDateString()})]})]},t.id))]})})]})]})]})]})},Hi=({project:s,slides:i,activeSlideId:l,setActiveSlideId:o,onClose:n})=>{const x=i.find(h=>h.id===l)||i[0],c=i.findIndex(h=>h.id===x.id),[m,p]=d.useState(!1),b=()=>{c<i.length-1?o(i[c+1].id):p(!1)},S=()=>{c>0&&o(i[c-1].id)};return d.useEffect(()=>{let h;return m&&(h=setInterval(()=>{b()},5e3)),()=>clearInterval(h)},[m,c,i.length]),d.useEffect(()=>{const h=r=>{r.key==="ArrowRight"&&b(),r.key==="ArrowLeft"&&S(),r.key==="Escape"&&n(),r.key===" "&&(r.preventDefault(),p(!m))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[x,c,i,n,m]),e.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 z-0 bg-black",children:e.jsx("img",{src:x.imageUrl||ut,className:"w-full h-full object-cover transition-all duration-1000 opacity-100",alt:"bg"})}),e.jsx("div",{className:"relative z-10 w-full max-w-7xl px-12 grid grid-cols-12 gap-12 items-end pb-32 h-full pointer-events-none",children:e.jsxs("div",{className:"col-span-8 mb-10",children:[e.jsxs("h4",{className:"text-amber-500 text-lg tracking-[0.2em] font-bold mb-4 uppercase animate-fade-in drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:[s.title," | ",s.genre]}),e.jsx("h1",{className:"text-7xl font-bold text-white mb-8 cinematic-font leading-tight animate-slide-up drop-shadow-[0_4px_6px_rgba(0,0,0,0.9)]",children:x.title}),e.jsx("div",{className:"w-24 h-1 bg-amber-500 mb-8 shadow-lg shadow-black"}),e.jsx("p",{className:"text-2xl text-white leading-relaxed font-light max-w-4xl whitespace-pre-wrap animate-fade-in delay-150 drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)]",children:x.content})]})}),e.jsx("div",{className:"absolute top-6 right-6 z-20",children:e.jsx("button",{onClick:n,className:"p-3 bg-black/50 text-white hover:bg-red-600/80 rounded-full backdrop-blur transition-colors",title:"Exit Presentation (Esc)",children:e.jsx(a.Minimize2,{size:20})})}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center gap-4 w-full max-w-2xl",children:[e.jsx("div",{className:"w-full h-1 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-600 transition-all duration-500",style:{width:`${(c+1)/i.length*100}%`}})}),e.jsxs("div",{className:"flex items-center gap-6 bg-black/60 backdrop-blur-md px-8 py-3 rounded-full border border-zinc-800/50 shadow-2xl",children:[e.jsx("button",{onClick:S,disabled:c===0,className:"p-2 text-zinc-400 hover:text-white disabled:opacity-30 transition-colors",title:"Previous Slide (Left Arrow)",children:e.jsx(a.ChevronLeft,{size:28})}),e.jsx("button",{onClick:()=>p(!m),className:`p-4 rounded-full transition-all ${m?"bg-amber-600 text-white hover:bg-amber-500":"bg-white text-black hover:bg-zinc-200"}`,title:m?"Pause (Space)":"Play Slideshow (Space)",children:m?e.jsx("span",{className:"block w-4 h-4 border-l-4 border-r-4 border-current mx-auto"}):e.jsx(a.Play,{size:20,fill:"currentColor",className:"ml-1"})}),e.jsx("button",{onClick:b,disabled:c===i.length-1,className:"p-2 text-zinc-400 hover:text-white disabled:opacity-30 transition-colors",title:"Next Slide (Right Arrow)",children:e.jsx(a.ChevronRight,{size:28})})]}),e.jsxs("div",{className:"text-zinc-500 font-mono text-xs tracking-widest drop-shadow-md",children:["SLIDE ",c+1," / ",i.length]})]})]})},Vi=({project:s,scenes:i,onClose:l})=>{const[o,n]=d.useState(0),[x,c]=d.useState(!1),[m,p]=d.useState(!0),b=i[o],S=()=>{o<i.length-1?n(r=>r+1):c(!1)},h=()=>{o>0&&n(r=>r-1)};return d.useEffect(()=>{let r;return x&&(r=setInterval(()=>{S()},3e3)),()=>clearInterval(r)},[x,o,i.length]),d.useEffect(()=>{const r=j=>{j.key==="ArrowRight"&&S(),j.key==="ArrowLeft"&&h(),j.key==="Escape"&&l(),j.key===" "&&(j.preventDefault(),c(!x)),j.key==="i"&&p(!m)};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[o,i,l,x,m]),b?e.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex items-center justify-center cursor-none hover:cursor-default overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0 flex items-center justify-center bg-zinc-950",children:e.jsx("img",{src:b.imageUrl||ut,className:"max-w-full max-h-full object-contain",alt:`Scene ${o+1}`})}),e.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none p-8 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start text-white/90 font-mono text-sm tracking-wider drop-shadow-md",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500 animate-pulse text-xs",children:"● REC"}),e.jsx("span",{className:"bg-white/20 px-1 rounded text-xs",children:s.title.toUpperCase()})]}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["00:00:0",o,":12"]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"ISO"}),e.jsx("span",{children:"800"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"SHUTTER"}),e.jsx("span",{children:"1/50"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"IRIS"}),e.jsx("span",{children:"f/2.8"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-zinc-400",children:"WB"}),e.jsx("span",{children:"5600K"})]}),e.jsxs("div",{className:"flex items-center gap-1 border border-white/40 px-2 py-1 rounded",children:[e.jsx("span",{className:"text-[10px]",children:"BAT"}),e.jsx("div",{className:"w-6 h-3 border border-white flex items-center p-0.5",children:e.jsx("div",{className:"w-3/4 h-full bg-white"})})]})]})]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none",children:[e.jsxs("div",{className:"w-8 h-8 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-white"}),e.jsx("div",{className:"absolute left-1/2 top-0 h-full w-px bg-white"})]}),e.jsx("div",{className:"absolute w-[90%] h-[90%] border border-white/20"}),e.jsx("div",{className:"absolute top-8 left-8 w-8 h-8 border-t-2 border-l-2 border-white"}),e.jsx("div",{className:"absolute top-8 right-8 w-8 h-8 border-t-2 border-r-2 border-white"}),e.jsx("div",{className:"absolute bottom-8 left-8 w-8 h-8 border-b-2 border-l-2 border-white"}),e.jsx("div",{className:"absolute bottom-8 right-8 w-8 h-8 border-b-2 border-r-2 border-white"})]}),e.jsxs("div",{className:"flex items-end justify-between text-white drop-shadow-md",children:[e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"bg-amber-600 text-black px-1.5 py-0.5 text-xs font-bold rounded",children:["SCENE ",o+1]}),e.jsxs("span",{className:"font-mono text-xs text-zinc-300",children:[b.shotSize||"WIDE"," | ",b.lensType||"35mm"," | ",b.cameraAngle||"EYE"]})]}),m&&e.jsxs("div",{className:"bg-black/60 backdrop-blur-sm p-4 rounded-lg border-l-4 border-amber-500",children:[e.jsx("h2",{className:"text-xl font-bold font-serif mb-1 leading-none",children:b.heading}),e.jsx("p",{className:"text-sm text-zinc-300 leading-tight opacity-90",children:b.action})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 font-mono text-xs text-zinc-400",children:[e.jsxs("span",{children:[o+1," / ",i.length]}),e.jsx("span",{children:"RAW 4K"})]})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-50 flex gap-4 pointer-events-auto opacity-0 hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:h,className:"p-3 bg-zinc-800/80 hover:bg-white hover:text-black rounded-full text-white transition-all",children:e.jsx(a.ChevronLeft,{size:20})}),e.jsx("button",{onClick:()=>c(!x),className:"p-4 bg-amber-600 hover:bg-amber-500 rounded-full text-white shadow-lg transition-all",children:x?e.jsx("div",{className:"w-4 h-4 bg-white rounded-sm"}):e.jsx(a.Play,{size:20,fill:"currentColor"})}),e.jsx("button",{onClick:S,className:"p-3 bg-zinc-800/80 hover:bg-white hover:text-black rounded-full text-white transition-all",children:e.jsx(a.ChevronRight,{size:20})})]}),e.jsx("button",{onClick:l,className:"absolute top-6 right-6 z-50 p-2 bg-black/50 hover:bg-red-600 text-white rounded-full pointer-events-auto transition-colors",children:e.jsx(a.X,{size:20})})]}):null},Wi=({onBack:s,user:i,onUpdateUser:l})=>{const[o,n]=d.useState((i==null?void 0:i.credits)||0),[x,c]=d.useState(null),[m,p]=d.useState(!1),[b,S]=d.useState({name:(i==null?void 0:i.name)||"Guest",email:(i==null?void 0:i.email)||"guest@studio.com",phone:(i==null?void 0:i.phone)||"+91 00000 00000"});d.useEffect(()=>{i&&(S({name:i.name,email:i.email,phone:i.phone||"+91 00000 00000"}),n(i.credits))},[i]);const[h,r]=d.useState(!1),[j,A]=d.useState(""),[U,G]=d.useState(""),[Y,de]=d.useState(""),F=[{name:"John Doe",project:"The Last Monsoon",status:"In Progress",date:"2 days ago"},{name:"Sarah Smith",project:"Cyber Kerala 2077",status:"Completed",date:"1 week ago"},{name:"Rajeev Menon",project:"Silent Waters",status:"Draft",date:"3 weeks ago"}],oe=P=>{var ae;const H=(ae=P.target.files)==null?void 0:ae[0];if(H){const q=new FileReader;q.onloadend=()=>{c(q.result)},q.readAsDataURL(H)}},he=()=>{l({name:b.name,email:b.email,phone:b.phone}),p(!1)},y=()=>{if(U!==Y){alert("New passwords do not match!");return}if(U.length<6){alert("Password must be at least 6 characters.");return}const P=localStorage.getItem("cinepitch_user_password")||"123456";if(j!==P){alert("Incorrect current password.");return}localStorage.setItem("cinepitch_user_password",U),alert("Password updated successfully!"),r(!1),A(""),G(""),de("")};return e.jsx("div",{className:"min-h-screen bg-zinc-950 p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("button",{onClick:s,className:"flex items-center text-zinc-500 hover:text-white mb-6 transition-colors",children:[e.jsx(a.ChevronLeft,{size:20,className:"mr-1"})," Back to Studio"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 flex flex-col items-center text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2",children:e.jsx("button",{onClick:()=>p(!m),className:"text-zinc-500 hover:text-white",children:e.jsx(a.Settings,{size:16})})}),e.jsxs("div",{className:"relative group cursor-pointer mb-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-amber-500 to-red-600 flex items-center justify-center text-3xl font-bold text-white shadow-xl overflow-hidden border-2 border-zinc-800",children:x?e.jsx("img",{src:x,className:"w-full h-full object-cover"}):b.name.charAt(0)}),e.jsxs("label",{className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(a.Camera,{className:"text-white",size:24}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:oe})]})]}),m?e.jsxs("div",{className:"w-full space-y-2",children:[e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-sm text-white",value:b.name,onChange:P=>S({...b,name:P.target.value})}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-xs text-zinc-400",value:b.email,onChange:P=>S({...b,email:P.target.value})}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-xs text-zinc-400",value:b.phone,onChange:P=>S({...b,phone:P.target.value})}),e.jsx(I,{variant:"accent",className:"w-full text-xs mt-2",onClick:he,children:"Save Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:b.name}),e.jsx("p",{className:"text-zinc-400 text-sm",children:b.email}),e.jsx("p",{className:"text-zinc-500 text-xs mt-1",children:b.phone}),e.jsx("span",{className:`mt-3 px-3 py-1 ${(i==null?void 0:i.role)==="ADMIN"?"bg-red-500/10 text-red-500 border-red-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"} text-xs font-bold rounded-full border`,children:(i==null?void 0:i.role)==="ADMIN"?"ADMIN":"PRO MEMBER"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-900/40 to-zinc-900 border border-amber-600/30 rounded-xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:e.jsx(a.Zap,{size:100,className:"text-amber-500"})}),e.jsx("h3",{className:"text-zinc-400 text-xs uppercase font-bold tracking-wider mb-1",children:"Credits Balance"}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:o.toLocaleString()}),e.jsx("span",{className:"text-amber-500 text-sm font-bold",children:"CR"})]}),e.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-1.5 mb-4",children:e.jsx("div",{className:"bg-amber-500 h-1.5 rounded-full w-[75%]"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"accent",className:"flex-1 text-xs",onClick:()=>n(o+1e3),children:"Buy Credits"}),e.jsx("button",{className:"px-3 py-2 bg-zinc-800 hover:bg-zinc-700 rounded text-xs text-zinc-300 transition-colors",children:"History"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-zinc-400 text-xs uppercase font-bold tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(a.ShieldCheck,{size:14})," Security"]}),h?e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase block mb-1",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:j,onChange:P=>A(P.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase block mb-1",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:U,onChange:P=>G(P.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 uppercase block mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",value:Y,onChange:P=>de(P.target.value)})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(I,{variant:"accent",className:"flex-1 text-xs",onClick:y,children:"Update"}),e.jsx(I,{variant:"secondary",className:"text-xs",onClick:()=>r(!1),children:"Cancel"})]})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(I,{variant:"secondary",className:"w-full text-xs justify-start",onClick:()=>r(!0),children:[e.jsx(a.Settings,{size:14,className:"mr-2"})," Change Password"]}),e.jsxs(I,{variant:"secondary",className:"w-full text-xs justify-start text-red-400 hover:text-red-300",children:[e.jsx(a.LogOut,{size:14,className:"mr-2"})," Sign out of all devices"]})]})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl flex flex-col justify-between",children:[e.jsx(a.Briefcase,{className:"text-blue-500 mb-2",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"12"}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"Active Projects"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl flex flex-col justify-between",children:[e.jsx(a.Image,{className:"text-purple-500 mb-2",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"842"}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"Images Generated"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-xl flex flex-col justify-between",children:[e.jsx(a.Activity,{className:"text-green-500 mb-2",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"98%"}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"Completion Rate"})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-white",children:"Recent Client Projects"}),e.jsx("button",{className:"text-xs text-amber-500 hover:text-amber-400",children:"View All"})]}),e.jsxs("table",{className:"w-full text-left text-sm text-zinc-400",children:[e.jsx("thead",{className:"bg-zinc-950/50 text-zinc-500 uppercase font-bold text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Client Name"}),e.jsx("th",{className:"p-4",children:"Project Title"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4",children:"Last Edited"}),e.jsx("th",{className:"p-4 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:F.map((P,H)=>e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[e.jsx("td",{className:"p-4 font-medium text-white",children:P.name}),e.jsx("td",{className:"p-4",children:P.project}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold border ${P.status==="Completed"?"bg-green-900/20 text-green-400 border-green-900":P.status==="In Progress"?"bg-amber-900/20 text-amber-400 border-amber-900":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:P.status})}),e.jsx("td",{className:"p-4",children:P.date}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{className:"text-zinc-300 hover:text-white bg-zinc-800 hover:bg-zinc-700 px-3 py-1 rounded text-xs transition-colors",children:"Open"})})]},H))})]})]})]})]})]})})},Yi=({project:s,setProject:i,slides:l,setSlides:o,onBack:n,user:x})=>{const c=(x==null?void 0:x.role)==="ADMIN",[m,p]=d.useState("DASHBOARD"),[b,S]=d.useState("SLIDES"),[h,r]=d.useState(""),[j,A]=d.useState(!1),[U,G]=d.useState(""),[Y,de]=d.useState(""),[F,oe]=d.useState(""),[he,y]=d.useState(""),[P,H]=d.useState(""),[ae,q]=d.useState(""),[ue,xe]=d.useState([]),[je,ke]=d.useState(""),[Ne,Ie]=d.useState(""),[fe,Ae]=d.useState(""),[ie,ve]=d.useState([]);d.useEffect(()=>{const v=localStorage.getItem("cinepitch_global_banner"),w=localStorage.getItem("cinepitch_maintenance");v&&r(v),w&&A(w==="true"),G(localStorage.getItem("cinepitch_youtube_link")||""),de(localStorage.getItem("cinepitch_whatsapp_link")||""),oe(localStorage.getItem("cinepitch_social_facebook")||""),y(localStorage.getItem("cinepitch_social_twitter")||""),H(localStorage.getItem("cinepitch_social_instagram")||""),q(localStorage.getItem("cinepitch_social_linkedin")||"");const k=localStorage.getItem("cinepitch_custom_social_links");if(k)try{xe(JSON.parse(k))}catch(T){console.error("Error loading custom links",T)}ke(localStorage.getItem("cinepitch_contact_address")||`2nd floor, Kalathil Buildings,
Akampadam, Eranhimangad.P.O.,
Nilambur, Malappuram, Kerala - 679329`),Ie(localStorage.getItem("cinepitch_contact_email")||"aicinemasuite@gmail.com"),Ae(localStorage.getItem("cinepitch_contact_phone")||"9946704365");const M=localStorage.getItem("cinepitch_faqs");if(M)try{ve(JSON.parse(M))}catch{console.error("Failed to parse FAQs")}else ve([{q:"How does the AI work?",a:"We use advanced Gemini models to analyze your script."},{q:"Is my script secure?",a:"Yes. Your script is processed securely in your browser session."}])},[]);const Te=()=>{localStorage.setItem("cinepitch_global_banner",h),localStorage.setItem("cinepitch_maintenance",String(j)),localStorage.setItem("cinepitch_youtube_link",U),localStorage.setItem("cinepitch_whatsapp_link",Y),localStorage.setItem("cinepitch_social_facebook",F),localStorage.setItem("cinepitch_social_twitter",he),localStorage.setItem("cinepitch_social_instagram",P),localStorage.setItem("cinepitch_social_linkedin",ae),localStorage.setItem("cinepitch_custom_social_links",JSON.stringify(ue)),localStorage.setItem("cinepitch_contact_address",je),localStorage.setItem("cinepitch_contact_email",Ne),localStorage.setItem("cinepitch_contact_phone",fe),localStorage.setItem("cinepitch_faqs",JSON.stringify(ie)),alert("System Settings & Social Links Saved Successfully!")},Z=()=>{xe([...ue,{id:`link-${Date.now()}`,label:"",url:""}])},L=(v,w,k)=>{const M=[...ue];M[v][w]=k,xe(M)},V=v=>{const w=[...ue];w.splice(v,1),xe(w)},se=async()=>{try{await Me.save(s,l,null)}catch{alert("Backup failed. See console.")}},J=()=>{ve([...ie,{q:"New Question?",a:"New Answer."}])},Ye=v=>{const w=[...ie];w.splice(v,1),ve(w)},$=(v,w,k)=>{const M=[...ie];M[v][w]=k,ve(M)},ye=(v,w)=>{o(l.map(k=>k.id===v?{...k,...w}:k))},ze=v=>{o(l.filter(w=>w.id!==v))},pe=(v,w)=>{var k;i({...s,characters:(k=s.characters)==null?void 0:k.map(M=>M.id===v?{...M,...w}:M)})},Ke=v=>{var w;i({...s,characters:(w=s.characters)==null?void 0:w.filter(k=>k.id!==v)})},Ue=(v,w)=>{var k;i({...s,showcaseScenes:(k=s.showcaseScenes)==null?void 0:k.map(M=>M.id===v?{...M,...w}:M)})},ce=(v,w)=>{var k;i({...s,posters:(k=s.posters)==null?void 0:k.map(M=>M.id===v?{...M,...w}:M)})},Fe=v=>{var w;i({...s,posters:(w=s.posters)==null?void 0:w.filter(k=>k.id!==v)})},Se=(v,w)=>{var k;i({...s,videos:(k=s.videos)==null?void 0:k.map(M=>M.id===v?{...M,...w}:M)})},qe=v=>{var w;i({...s,videos:(w=s.videos)==null?void 0:w.filter(k=>k.id!==v)})},Re=(v,w,k)=>{var T;const M=(T=v.target.files)==null?void 0:T[0];if(M){const Q=new FileReader;Q.onloadend=()=>{const te=Q.result;w==="SLIDES"&&ye(k,{imageUrl:te}),w==="CHARACTERS"&&pe(k,{imageUrl:te}),w==="SCENES"&&Ue(k,{imageUrl:te}),w==="POSTERS"&&ce(k,{imageUrl:te}),w==="VIDEOS"&&Se(k,{url:te})},Q.readAsDataURL(M)}},[Ge]=d.useState([{id:1,name:"Noushadali",email:"director@studio.com",role:"ADMIN",credits:999999,status:"Active"},{id:2,name:"John Doe",email:"john@example.com",role:"EDITOR",credits:500,status:"Active"},{id:3,name:"Sarah Smith",email:"sarah@example.com",role:"VIEWER",credits:0,status:"Inactive"},{id:4,name:"Mike Ross",email:"mike.r@example.com",role:"EDITOR",credits:120,status:"Active"}]),Ce=()=>{var v;return e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(a.Layout,{size:64})}),e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-2",children:"Project Slides"}),e.jsx("p",{className:"text-4xl font-bold text-white",children:l.length}),e.jsxs("button",{onClick:()=>{p("DATABASE"),S("SLIDES")},className:"text-amber-500 text-xs mt-4 flex items-center hover:underline",children:["Manage Slides ",e.jsx(a.ArrowRight,{size:12,className:"ml-1"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(a.Users,{size:64})}),e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-2",children:"Cast & Characters"}),e.jsx("p",{className:"text-4xl font-bold text-white",children:((v=s.characters)==null?void 0:v.length)||0}),e.jsxs("button",{onClick:()=>{p("DATABASE"),S("CHARACTERS")},className:"text-amber-500 text-xs mt-4 flex items-center hover:underline",children:["Manage Cast ",e.jsx(a.ArrowRight,{size:12,className:"ml-1"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"bg-red-600/20 text-red-500 absolute top-4 right-4 px-2 py-1 rounded text-[10px] font-bold",children:"LIVE"}),e.jsx("h3",{className:"text-zinc-500 text-xs uppercase font-bold mb-2",children:"Session Memory"}),e.jsxs("p",{className:"text-4xl font-bold text-white",children:[(JSON.stringify(s).length/1024).toFixed(1)," KB"]}),e.jsx("p",{className:"text-zinc-500 text-xs mt-4",children:"Local Browser Storage"})]}),c&&e.jsxs("div",{className:"bg-gradient-to-br from-red-900/30 to-zinc-900 border border-red-900/50 p-6 rounded-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(a.ShieldCheck,{size:64})}),e.jsx("h3",{className:"text-red-400 text-xs uppercase font-bold mb-2",children:"System Users"}),e.jsx("p",{className:"text-4xl font-bold text-white",children:Ge.length}),e.jsxs("button",{onClick:()=>{p("SYSTEM")},className:"text-white text-xs mt-4 flex items-center hover:underline",children:["Admin Panel ",e.jsx(a.ArrowRight,{size:12,className:"ml-1"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{p("DATABASE"),S("SLIDES")},children:[e.jsx(a.Plus,{size:24})," ",e.jsx("span",{children:"Add Slide"})]}),e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{p("SETTINGS")},children:[e.jsx(a.Settings,{size:24})," ",e.jsx("span",{children:"Metadata"})]}),c&&e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2 border-red-900/50 bg-red-900/10 hover:bg-red-900/20 text-red-400",onClick:()=>{p("SYSTEM")},children:[e.jsx(a.ShieldCheck,{size:24})," ",e.jsx("span",{children:"Sys Admin"})]}),e.jsxs(I,{variant:"secondary",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:se,children:[e.jsx(a.Save,{size:24})," ",e.jsx("span",{children:"Backup Data"})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Project Health"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1 text-zinc-400",children:[e.jsx("span",{children:"Slide Content Completion"}),e.jsxs("span",{children:[Math.round(l.filter(w=>w.content.length>50).length/l.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-zinc-950 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${l.filter(w=>w.content.length>50).length/l.length*100}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1 text-zinc-400",children:[e.jsx("span",{children:"Asset Generation"}),e.jsxs("span",{children:[Math.round(l.filter(w=>w.imageUrl).length/l.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-zinc-950 rounded-full h-2",children:e.jsx("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:`${l.filter(w=>w.imageUrl).length/l.length*100}%`}})})]})]})]})]})]})},$e=()=>{const v=()=>{var w,k,M;switch(b){case"SLIDES":return e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-zinc-950 text-zinc-500 text-xs uppercase tracking-wider sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-16",children:"#"}),e.jsx("th",{className:"p-4 w-24",children:"Visual"}),e.jsx("th",{className:"p-4 w-1/4",children:"Title (Editable)"}),e.jsx("th",{className:"p-4",children:"Content Preview (Editable)"}),e.jsx("th",{className:"p-4 w-32 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800 text-sm text-zinc-300",children:l.map((T,Q)=>e.jsxs("tr",{className:"hover:bg-zinc-800/50 group",children:[e.jsx("td",{className:"p-4 text-zinc-500 font-mono",children:Q+1}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"w-16 h-10 bg-zinc-900 rounded overflow-hidden relative cursor-pointer hover:ring-2 hover:ring-amber-500",children:[T.imageUrl?e.jsx("img",{src:T.imageUrl,className:"w-full h-full object-cover"}):e.jsx(a.Image,{className:"m-auto mt-2 text-zinc-700"}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*",onChange:te=>Re(te,"SLIDES",T.id)})]})}),e.jsx("td",{className:"p-4",children:e.jsx("input",{className:"w-full bg-transparent border border-transparent hover:border-zinc-700 focus:border-amber-500 focus:bg-zinc-900 rounded p-1 outline-none transition-all",value:T.title,onChange:te=>ye(T.id,{title:te.target.value})})}),e.jsx("td",{className:"p-4",children:e.jsx("input",{className:"w-full bg-transparent border border-transparent hover:border-zinc-700 focus:border-amber-500 focus:bg-zinc-900 rounded p-1 outline-none transition-all text-zinc-500",value:T.content.substring(0,100),onChange:te=>ye(T.id,{content:te.target.value})})}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{onClick:()=>ze(T.id),className:"text-zinc-600 hover:text-red-500 p-2",children:e.jsx(a.Trash2,{size:16})})})]},T.id))})]});case"CHARACTERS":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6 p-4",children:(w=s.characters)==null?void 0:w.map(T=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden group relative",children:[e.jsxs("div",{className:"aspect-square relative",children:[T.imageUrl?e.jsx("img",{src:T.imageUrl,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-700",children:e.jsx(a.User,{size:32})}),e.jsx("button",{onClick:()=>Ke(T.id),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(a.Trash2,{size:12})}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*",onChange:Q=>Re(Q,"CHARACTERS",T.id),title:"Upload Image"})]}),e.jsx("div",{className:"p-2",children:e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-1 text-xs text-white font-bold text-center",value:T.name,onChange:Q=>pe(T.id,{name:Q.target.value})})})]},T.id))});case"POSTERS":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6 p-4",children:(k=s.posters)==null?void 0:k.map(T=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden group relative",children:[e.jsxs("div",{className:"aspect-[2/3] relative",children:[T.imageUrl?e.jsx("img",{src:T.imageUrl,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-700",children:e.jsx(a.Image,{size:32})}),e.jsx("button",{onClick:()=>Fe(T.id),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(a.Trash2,{size:12})}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*",onChange:Q=>Re(Q,"POSTERS",T.id)})]}),e.jsx("div",{className:"p-2",children:e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-1 text-xs text-white font-bold text-center",value:T.title,onChange:Q=>ce(T.id,{title:Q.target.value})})})]},T.id))});case"VIDEOS":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:(M=s.videos)==null?void 0:M.map(T=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden group relative",children:[e.jsxs("div",{className:"aspect-video relative bg-black",children:[e.jsx("video",{src:T.url,className:"w-full h-full object-cover opacity-50"}),e.jsx("button",{onClick:()=>qe(T.id),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx(a.Trash2,{size:12})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white font-bold text-xs pointer-events-none",children:T.source})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-1 text-xs text-white font-bold",value:T.title,onChange:Q=>Se(T.id,{title:Q.target.value})}),e.jsx("p",{className:"text-[10px] text-zinc-500 mt-1",children:new Date(T.createdAt).toLocaleDateString()})]})]},T.id))});default:return e.jsx("div",{className:"p-8 text-center text-zinc-500",children:"Select a category"})}};return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden min-h-[500px] flex flex-col animate-in fade-in duration-300",children:[e.jsx("div",{className:"border-b border-zinc-800 flex bg-zinc-950 overflow-x-auto no-scrollbar",children:["SLIDES","CHARACTERS","POSTERS","VIDEOS"].map(w=>e.jsx("button",{onClick:()=>S(w),className:`px-6 py-4 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${b===w?"border-amber-500 text-white bg-zinc-900":"border-transparent text-zinc-500 hover:text-zinc-300"}`,children:w},w))}),e.jsx("div",{className:"flex-1 overflow-auto",children:v()})]})},we=()=>e.jsx("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(a.Settings,{size:20,className:"text-zinc-400"})," General Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Project Title"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:s.title,onChange:v=>i({...s,title:v.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Director / Creator"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:s.director,onChange:v=>i({...s,director:v.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Genre"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:s.genre,onChange:v=>i({...s,genre:v.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Language Mode"}),e.jsxs("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none",value:s.language,onChange:v=>i({...s,language:v.target.value}),children:[e.jsx("option",{value:"en",children:"English (International)"}),e.jsx("option",{value:"ml",children:"Malayalam (Regional)"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Logline"}),e.jsx("textarea",{className:"w-full h-24 bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white focus:border-amber-500 outline-none resize-none",value:s.logline,onChange:v=>i({...s,logline:v.target.value})})]})]})]})}),me=()=>e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"bg-red-900/20 border border-red-900/50 p-6 rounded-xl text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-500 uppercase tracking-widest mb-2",children:"Super Admin Console"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"You are viewing the global system configuration. Changes here affect all users."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(a.Zap,{className:"text-amber-500",size:18})," System Announcements"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Banner Message"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-3 text-white text-sm",placeholder:"e.g. System maintenance scheduled for 10 PM",value:h,onChange:v=>r(v.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[e.jsx("input",{type:"checkbox",id:"maintMode",checked:j,onChange:v=>A(v.target.checked),className:"w-4 h-4 rounded bg-zinc-800 border-zinc-700"}),e.jsx("label",{htmlFor:"maintMode",className:"text-sm text-zinc-300 cursor-pointer",children:"Enable Maintenance Mode (Lock Access)"})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(a.Globe,{className:"text-blue-500",size:18})," Social Media & Links"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Facebook"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://facebook.com/...",value:F,onChange:v=>oe(v.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"X (Twitter)"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://x.com/...",value:he,onChange:v=>y(v.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Instagram"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://instagram.com/...",value:P,onChange:v=>H(v.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"LinkedIn"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://linkedin.com/...",value:ae,onChange:v=>q(v.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"YouTube Channel"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://youtube.com/...",value:U,onChange:v=>G(v.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"WhatsApp Group"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-xs",placeholder:"https://chat.whatsapp.com/...",value:Y,onChange:v=>de(v.target.value)})]}),e.jsxs("div",{className:"pt-4 border-t border-zinc-800 mt-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase",children:"Additional Links"}),e.jsxs("button",{onClick:Z,className:"text-xs flex items-center gap-1 text-amber-500 hover:text-amber-400",children:[e.jsx(a.Plus,{size:10})," Add Item"]})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:ue.map((v,w)=>e.jsxs("div",{className:"flex gap-2 items-center bg-zinc-950 p-2 rounded border border-zinc-800",children:[e.jsx("div",{className:"w-1/3",children:e.jsx("input",{className:"w-full bg-transparent text-xs text-white placeholder-zinc-600 border-b border-zinc-800 focus:border-amber-500 outline-none pb-1",placeholder:"Label (e.g. TikTok)",value:v.label,onChange:k=>L(w,"label",k.target.value)})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{className:"w-full bg-transparent text-xs text-zinc-400 placeholder-zinc-700 border-b border-zinc-800 focus:border-amber-500 outline-none pb-1",placeholder:"https://...",value:v.url,onChange:k=>L(w,"url",k.target.value)})}),e.jsx("button",{onClick:()=>V(w),className:"text-zinc-600 hover:text-red-500",children:e.jsx(a.Trash2,{size:12})})]},v.id))})]})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(a.HelpCircle,{className:"text-green-500",size:18})," Help & Support Content"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-bold text-zinc-400 uppercase",children:"Contact Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Office Address (Multiline)"}),e.jsx("textarea",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm h-24 resize-none",value:je,onChange:v=>ke(v.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Email"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm",value:Ne,onChange:v=>Ie(v.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-1",children:"Phone / Whatsapp"}),e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-white text-sm",value:fe,onChange:v=>Ae(v.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-sm font-bold text-zinc-400 uppercase",children:"FAQ Items"}),e.jsxs("button",{onClick:J,className:"text-xs bg-zinc-800 hover:bg-zinc-700 text-white px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(a.Plus,{size:12})," Add Item"]})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto pr-2",children:ie.map((v,w)=>e.jsxs("div",{className:"bg-zinc-950 p-3 rounded border border-zinc-800 relative group",children:[e.jsx("button",{onClick:()=>Ye(w),className:"absolute top-2 right-2 text-zinc-600 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(a.Trash2,{size:12})}),e.jsx("input",{className:"w-full bg-transparent text-xs font-bold text-white mb-1 border-b border-zinc-800 focus:border-amber-500 outline-none pb-1",placeholder:"Question...",value:v.q,onChange:k=>$(w,"q",k.target.value)}),e.jsx("textarea",{className:"w-full bg-transparent text-xs text-zinc-400 resize-none outline-none",placeholder:"Answer...",rows:2,value:v.a,onChange:k=>$(w,"a",k.target.value)})]},w))})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-zinc-800 flex justify-end",children:e.jsx(I,{variant:"accent",onClick:Te,className:"px-8 py-3 font-bold text-lg",children:"Publish Changes"})})]});return e.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[e.jsxs("header",{className:"h-16 border-b border-zinc-800 bg-zinc-900 flex items-center justify-between px-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:n,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400 transition-colors",title:"Back to Studio",children:e.jsx(a.ChevronLeft,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white tracking-wide cinematic-font",children:c?e.jsx("span",{className:"text-red-500",children:"SYSTEM ADMIN"}):"PROJECT DASHBOARD"}),e.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-widest",children:c?"Master Control":s.title})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," ",c?"Admin Mode":"User Mode"]})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("aside",{className:"w-64 border-r border-zinc-800 bg-zinc-950 flex flex-col py-6 px-3 gap-1",children:[e.jsxs("button",{onClick:()=>p("DASHBOARD"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors ${m==="DASHBOARD"?"bg-amber-600/10 text-amber-500 border border-amber-600/20":"text-zinc-400 hover:bg-zinc-900 hover:text-white"}`,children:[e.jsx(a.Layout,{size:18})," ",c?"Overview":"Project Stats"]}),e.jsxs("button",{onClick:()=>p("DATABASE"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors ${m==="DATABASE"?"bg-amber-600/10 text-amber-500 border border-amber-600/20":"text-zinc-400 hover:bg-zinc-900 hover:text-white"}`,children:[e.jsx(a.Grid,{size:18})," Content Manager"]}),e.jsxs("button",{onClick:()=>p("SETTINGS"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors ${m==="SETTINGS"?"bg-amber-600/10 text-amber-500 border border-amber-600/20":"text-zinc-400 hover:bg-zinc-900 hover:text-white"}`,children:[e.jsx(a.Settings,{size:18})," Settings"]}),c&&e.jsxs("button",{onClick:()=>p("SYSTEM"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 text-sm font-medium transition-colors mt-8 border border-red-900/30 ${m==="SYSTEM"?"bg-red-900/20 text-red-500":"text-red-800 hover:bg-red-900/10"}`,children:[e.jsx(a.ShieldCheck,{size:18})," System Admin"]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-8 bg-black",children:[m==="DASHBOARD"&&Ce(),m==="DATABASE"&&$e(),m==="SETTINGS"&&we(),m==="SYSTEM"&&c&&me()]})]})]})},ms=({onClose:s})=>{const[i,l]=d.useState("FAQ"),o=localStorage.getItem("cinepitch_youtube_link")||"https://www.youtube.com/",n=localStorage.getItem("cinepitch_whatsapp_link")||"https://wa.me/919946704365",[x,c]=d.useState(""),[m,p]=d.useState(""),[b,S]=d.useState(""),[h,r]=d.useState([]);return d.useEffect(()=>{c(localStorage.getItem("cinepitch_contact_address")||`2nd floor, Kalathil Buildings,
Akampadam, Eranhimangad.P.O.,
Nilambur, Malappuram, Kerala - 679329`),p(localStorage.getItem("cinepitch_contact_email")||"aicinemasuite@gmail.com"),S(localStorage.getItem("cinepitch_contact_phone")||"9946704365");const j=localStorage.getItem("cinepitch_faqs");if(j)try{r(JSON.parse(j))}catch{console.error("Error loading FAQs")}else r([{q:"How does the AI work?",a:"We use advanced Gemini models (Flash 2.5 & Veo) to analyze your script/logline and generate industry-standard text, images, and video trailers."},{q:"Is my script secure?",a:"Yes. Your script is processed securely in your browser session and sent directly to Google's AI API. We do not store your intellectual property on our servers."},{q:"Can I use the images commercially?",a:"Yes. Images generated by AI generally belong to the creator (you), but checking local laws regarding AI copyright is recommended."},{q:"How much does it cost?",a:"Text generation is extremely cheap. Image generation costs ~$0.04/image. Video generation varies by duration."},{q:"Can I export to PDF?",a:"Currently, you can save your project file (.json) to resume later. A direct PDF export feature is available in the main menu."}])},[]),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"w-full max-w-2xl bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-amber-500/10 p-2 rounded-lg text-amber-500",children:e.jsx(a.HelpCircle,{size:24})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>l("FAQ"),className:`text-lg font-bold transition-colors ${i==="FAQ"?"text-white":"text-zinc-500 hover:text-zinc-300"}`,children:"FAQ & Help"}),e.jsx("div",{className:"w-px bg-zinc-700 h-6"}),e.jsx("button",{onClick:()=>l("CONTACT"),className:`text-lg font-bold transition-colors ${i==="CONTACT"?"text-white":"text-zinc-500 hover:text-zinc-300"}`,children:"Contact Us"})]})]}),e.jsx("button",{onClick:s,className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(a.Minimize2,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:i==="FAQ"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-900/40 to-zinc-900 border border-red-900/30 rounded-xl p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-bold flex items-center gap-2 mb-1 text-lg",children:[e.jsx(a.Youtube,{size:24,className:"text-red-500"})," Watch Video Tutorials"]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Learn how to create pitch decks, generate characters, and more on our YouTube channel."})]}),e.jsxs("a",{href:o,target:"_blank",rel:"noreferrer",className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2 shrink-0",children:["Visit Channel ",e.jsx(a.ExternalLink,{size:14})]})]}),h.map((j,A)=>e.jsxs("div",{className:"bg-zinc-950/50 rounded-xl p-4 border border-zinc-800/50",children:[e.jsxs("h3",{className:"text-zinc-200 font-bold mb-2 flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500",children:"Q."})," ",j.q]}),e.jsx("p",{className:"text-zinc-400 text-sm leading-relaxed pl-6 whitespace-pre-line",children:j.a})]},A))]}):e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"bg-zinc-950 rounded-xl p-8 border border-zinc-800 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-zinc-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-zinc-700",children:e.jsx(a.MapPin,{size:32,className:"text-amber-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2 cinematic-font",children:"Pixelgraph Media"}),e.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Innovative AI Media Solutions"}),e.jsx("div",{className:"text-zinc-300 text-sm leading-relaxed whitespace-pre-line",children:x})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("a",{href:n,target:"_blank",rel:"noreferrer",className:"bg-zinc-950 p-4 rounded-xl border border-zinc-800 flex items-center gap-4 hover:border-green-500/50 hover:bg-zinc-900 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-green-900/20 text-green-500 rounded-lg group-hover:bg-green-900/30",children:e.jsx(a.MessageSquare,{size:24})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-zinc-500 uppercase font-bold flex items-center gap-1",children:["WhatsApp Community ",e.jsx(a.ExternalLink,{size:10})]}),e.jsx("p",{className:"text-white font-bold group-hover:text-green-400 transition-colors",children:"Join Group / Chat"}),e.jsx("p",{className:"text-[10px] text-zinc-500 mt-1 font-mono",children:b})]})]}),e.jsxs("div",{className:"bg-zinc-950 p-4 rounded-xl border border-zinc-800 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-900/20 text-blue-500 rounded-lg",children:e.jsx(a.Box,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Email"}),e.jsx("a",{href:`mailto:${m}`,className:"text-white hover:text-amber-500 transition-colors text-sm",children:m})]})]})]})]})}),e.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900 rounded-b-2xl flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-zinc-500",children:i==="FAQ"?"Need personalized help?":"We usually reply within 24 hours."}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-zinc-100 text-zinc-900 rounded-md font-bold hover:bg-white",children:"Close"})]})]})})},Ki=({onLogin:s})=>{const[i,l]=d.useState(!0),[o,n]=d.useState(!1),[x,c]=d.useState(""),[m,p]=d.useState(""),[b,S]=d.useState(!1),[h,r]=d.useState({}),[j,A]=d.useState([]);d.useEffect(()=>{r({fb:localStorage.getItem("cinepitch_social_facebook")||"",x:localStorage.getItem("cinepitch_social_twitter")||"",insta:localStorage.getItem("cinepitch_social_instagram")||"",yt:localStorage.getItem("cinepitch_youtube_link")||"",linkedin:localStorage.getItem("cinepitch_social_linkedin")||""});const F=localStorage.getItem("cinepitch_custom_social_links");if(F)try{A(JSON.parse(F))}catch(oe){console.error("Error loading custom links",oe)}},[]);const U=F=>{F.preventDefault(),S(!0),setTimeout(()=>{if(S(!1),o){alert("If an account matches that email, a reset link has been sent."),n(!1),l(!0);return}const oe=localStorage.getItem("cinepitch_user_password")||"123456";m===oe?s(x):alert("Invalid Password. (Hint: Default is 123456)")},1500)},G=()=>{S(!0),setTimeout(()=>{S(!1),s("guest@example.com")},1e3)},Y=()=>{confirm("⚠️ BETA ACTION: This will clear all local data and reset the app. Use only if the app is stuck. Continue?")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},de=Object.values(h).some(F=>typeof F=="string"&&F.length>0)||j.length>0;return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[url('https://images.unsplash.com/photo-1440404653325-ab127d49abc1?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:e.jsx("span",{className:"bg-amber-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg border border-amber-400/50",children:"BETA v1.0"})}),e.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 bg-zinc-950/90 border border-zinc-800 rounded-2xl shadow-2xl animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4 text-amber-500",children:e.jsx(a.Clapperboard,{size:48})}),e.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 cinematic-font tracking-wider",children:["AICINEMA",e.jsx("span",{className:"text-amber-500",children:"SUITE"}),".COM"]}),e.jsx("p",{className:"text-zinc-400 text-sm tracking-wide",children:"The Intelligent Production Studio"})]}),o?e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsx("h3",{className:"text-white font-bold text-lg text-center",children:"Reset Password"}),e.jsx("p",{className:"text-zinc-400 text-xs text-center mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",required:!0,className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none pl-10",placeholder:"name@company.com",value:x,onChange:F=>c(F.target.value)}),e.jsx(a.User,{className:"absolute left-3 top-3.5 text-zinc-600",size:16})]})]}),e.jsx(I,{className:"w-full py-3 text-sm font-bold bg-amber-600 hover:bg-amber-500 text-white mt-4",isLoading:b,children:"Send Reset Link"}),e.jsx("button",{type:"button",onClick:()=>n(!1),className:"w-full text-center text-xs text-zinc-500 hover:text-white mt-2",children:"Cancel and go back to Login"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",required:!0,className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none pl-10",placeholder:"name@company.com",value:x,onChange:F=>c(F.target.value)}),e.jsx(a.User,{className:"absolute left-3 top-3.5 text-zinc-600",size:16})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:ring-1 focus:ring-amber-500 outline-none pl-10",placeholder:"••••••••",value:m,onChange:F=>p(F.target.value)}),e.jsx(a.Settings,{className:"absolute left-3 top-3.5 text-zinc-600",size:16})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("label",{className:"flex items-center text-zinc-400",children:[e.jsx("input",{type:"checkbox",className:"mr-2 rounded bg-zinc-800 border-zinc-700 text-amber-600 focus:ring-0"}),"Remember me"]}),e.jsx("button",{type:"button",onClick:()=>n(!0),className:"text-amber-500 hover:text-amber-400",children:"Forgot Password?"})]}),e.jsx(I,{className:"w-full py-3 text-sm font-bold bg-amber-600 hover:bg-amber-500 text-white mt-4",isLoading:b,children:i?"Sign In":"Create Account"})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-zinc-800"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-zinc-950 px-2 text-zinc-500",children:"Or continue with"})})]}),e.jsxs("button",{onClick:G,disabled:b,className:"w-full bg-white text-black hover:bg-zinc-200 font-bold py-3 rounded-lg flex items-center justify-center gap-3 transition-colors text-sm",children:[e.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",children:e.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[e.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),e.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.059 -13.144 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),e.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.769 -21.864 51.959 -21.864 51.129 C -21.864 50.299 -21.734 49.489 -21.484 48.729 L -21.484 45.639 C -26.284 47.269 -26.754 49.129 -26.754 51.129 C -26.754 53.129 -26.284 54.989 -25.464 56.619 L -21.484 53.529 Z"}),e.jsx("path",{fill:"#EA4335",d:"M -14.754 43.769 C -12.984 43.769 -11.404 44.379 -10.154 45.579 L -6.744 42.169 C -8.804 40.249 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -22.434 46.099 -25.084 43.769 -14.754 43.769 Z"})]})}),"Sign in with Google"]}),e.jsxs("div",{className:"mt-6 text-center text-xs text-zinc-500",children:[i?"Don't have an account?":"Already have an account?",e.jsx("button",{onClick:()=>l(!i),className:"ml-2 text-white hover:underline font-medium",children:i?"Sign Up":"Log In"})]})]}),de&&e.jsxs("div",{className:"mt-8 border-t border-zinc-800 pt-6",children:[e.jsx("p",{className:"text-center text-[10px] text-zinc-500 uppercase tracking-widest mb-4 font-bold",children:"Follow Us"}),e.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[h.fb&&e.jsx("a",{href:h.fb,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-500 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-blue-500/50",children:e.jsx(a.Facebook,{size:18})}),h.x&&e.jsx("a",{href:h.x,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-white transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-white/50",children:e.jsx(a.Twitter,{size:18})}),h.insta&&e.jsx("a",{href:h.insta,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-pink-500 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-pink-500/50",children:e.jsx(a.Instagram,{size:18})}),h.yt&&e.jsx("a",{href:h.yt,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-red-600 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-red-600/50",children:e.jsx(a.Youtube,{size:18})}),h.linkedin&&e.jsx("a",{href:h.linkedin,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-blue-400 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-blue-400/50",children:e.jsx(a.Linkedin,{size:18})}),j.map(F=>e.jsx("a",{href:F.url,target:"_blank",rel:"noreferrer",className:"text-zinc-500 hover:text-amber-500 transition-colors bg-zinc-900 p-2 rounded-full border border-zinc-800 hover:border-amber-500/50",title:F.label,children:e.jsx(a.Globe,{size:18})},F.id))]})]}),e.jsxs("div",{className:"mt-8 border-t border-zinc-800 pt-6 text-center space-y-4",children:[e.jsx("p",{className:"text-[10px] text-zinc-600",children:"By continuing, you agree to AICINEMASUITE.com Terms of Service & Privacy Policy."}),e.jsxs("button",{onClick:Y,className:"text-[10px] text-red-900 hover:text-red-500 uppercase font-bold flex items-center justify-center gap-1 mx-auto transition-colors",children:[e.jsx(a.AlertTriangle,{size:10})," App Not Loading? Clear Data"]})]})]})]})},qi=({onClose:s})=>{const[i,l]=d.useState(null),[o,n]=d.useState(""),[x,c]=d.useState(!1),m=()=>{console.log("Feedback Submitted:",{rating:i,comment:o}),c(!0),setTimeout(()=>{s()},2e3)};return e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative overflow-hidden",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-zinc-500 hover:text-white",children:e.jsx(a.X,{size:20})}),x?e.jsxs("div",{className:"text-center py-8 animate-in fade-in zoom-in",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(a.Check,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Your feedback helps build the future of AICINEMASUITE.com."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-amber-600/20 p-2 rounded-lg text-amber-500",children:e.jsx(a.MessageSquare,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Beta Feedback"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Found a bug or have an idea?"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-3",children:"How is your experience?"}),e.jsx("div",{className:"flex justify-between gap-2",children:[1,2,3,4,5].map(p=>e.jsx("button",{onClick:()=>l(p),className:`flex-1 py-3 rounded-lg border transition-all ${i===p?"bg-amber-600 border-amber-500 text-white shadow-lg shadow-amber-900/50":"bg-zinc-950 border-zinc-800 text-zinc-500 hover:border-zinc-600 hover:text-zinc-300"}`,children:e.jsx("span",{className:"text-lg font-bold",children:p})},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Details"}),e.jsx("textarea",{className:"w-full h-32 bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-white text-sm resize-none focus:border-amber-500 outline-none placeholder-zinc-700",placeholder:"Tell us what you love or what's broken...",value:o,onChange:p=>n(p.target.value)})]}),e.jsx(I,{variant:"accent",className:"w-full",disabled:!i,onClick:m,children:"Send Feedback"})]})]})]})})},Ji=()=>{const[s,i]=d.useState(!1),[l,o]=d.useState([{role:"model",content:"Hello! I'm the AI Cinema Master. How can I assist with your production today?"}]),[n,x]=d.useState(""),[c,m]=d.useState(!1),p=d.useRef(null),b=()=>{var h;(h=p.current)==null||h.scrollIntoView({behavior:"smooth"})};d.useEffect(()=>{s&&b()},[l,s]);const S=async()=>{if(!n.trim()||c)return;const h=n.trim();x(""),o(r=>[...r,{role:"user",content:h}]),m(!0);try{const r=await Fi(l,h);r&&o(j=>[...j,{role:"model",content:r}])}catch{o(j=>[...j,{role:"model",content:"Sorry, I encountered a connection error."}])}finally{m(!1)}};return e.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end",children:[s&&e.jsxs("div",{className:"mb-4 w-80 md:w-96 h-[500px] bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in slide-in-from-bottom-4 origin-bottom-right",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-amber-700 to-amber-600 flex justify-between items-center shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:e.jsx(a.Sparkles,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm leading-tight",children:"Cinema Master"}),e.jsx("p",{className:"text-[10px] text-amber-100 opacity-90",children:"Live Assistant"})]})]}),e.jsx("button",{onClick:()=>i(!1),className:"text-white/80 hover:text-white transition-colors",children:e.jsx(a.X,{size:18})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-zinc-950/50",children:[l.map((h,r)=>e.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-2 text-sm leading-relaxed ${h.role==="user"?"bg-amber-600 text-white rounded-br-none":"bg-zinc-800 text-zinc-200 rounded-bl-none border border-zinc-700"}`,children:h.content})},r)),c&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-zinc-800 rounded-2xl rounded-bl-none px-4 py-3 border border-zinc-700 flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce delay-200"})]})}),e.jsx("div",{ref:p})]}),e.jsx("div",{className:"p-3 bg-zinc-900 border-t border-zinc-800 shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-700 rounded-full pl-4 pr-12 py-3 text-sm text-white focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none",placeholder:"Ask about script, shots...",value:n,onChange:h=>x(h.target.value),onKeyDown:h=>h.key==="Enter"&&S()}),e.jsx("button",{className:"absolute right-1 top-1 p-2 bg-amber-600 hover:bg-amber-500 text-white rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:S,disabled:!n.trim()||c,children:e.jsx(a.ArrowRight,{size:16})})]})})]}),e.jsx("button",{onClick:()=>i(!s),className:`w-14 h-14 rounded-full shadow-2xl flex items-center justify-center transition-all transform hover:scale-105 active:scale-95 ${s?"bg-zinc-700 text-zinc-400 rotate-90":"bg-gradient-to-br from-amber-500 to-orange-600 text-white border-2 border-white/10"}`,children:s?e.jsx(a.X,{size:24}):e.jsx(a.MessageSquare,{size:28,fill:"currentColor"})})]})},Xi=({toasts:s,removeToast:i})=>e.jsx("div",{className:"fixed bottom-6 right-6 z-[200] flex flex-col gap-2 pointer-events-none",children:s.map(l=>e.jsxs("div",{className:`
            pointer-events-auto min-w-[300px] max-w-sm bg-zinc-900 border shadow-2xl rounded-lg p-4 flex items-start gap-3 
            transform transition-all duration-300 animate-in slide-in-from-right-12 fade-in
            ${l.type==="success"?"border-green-900/50":""}
            ${l.type==="error"?"border-red-900/50":""}
            ${l.type==="info"?"border-blue-900/50":""}
            ${l.type==="warning"?"border-amber-900/50":""}
          `,children:[e.jsxs("div",{className:"mt-0.5 shrink-0",children:[l.type==="success"&&e.jsx(a.Check,{size:18,className:"text-green-500"}),l.type==="error"&&e.jsx(a.AlertTriangle,{size:18,className:"text-red-500"}),l.type==="info"&&e.jsx(a.Info,{size:18,className:"text-blue-500"}),l.type==="warning"&&e.jsx(a.AlertTriangle,{size:18,className:"text-amber-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-bold ${l.type==="success"?"text-green-400":l.type==="error"?"text-red-400":l.type==="warning"?"text-amber-400":"text-blue-400"}`,children:l.title}),l.message&&e.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:l.message})]}),e.jsx("button",{onClick:()=>i(l.id),className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(a.X,{size:14})})]},l.id))}),Qi=({onSave:s,onClose:i,isMandatory:l=!1})=>{const[o,n]=d.useState(""),[x,c]=d.useState(!1),m=S=>{S.preventDefault(),o.trim().length>10?s(o.trim()):alert("Please enter a valid API Key.")},p=()=>{confirm("Are you sure you want to remove your API Key?")&&s("")},b=!!localStorage.getItem("gemini_api_key");return e.jsx("div",{className:"fixed inset-0 z-[200] bg-black/95 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:e.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl relative overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsx("div",{className:"absolute -top-24 -left-24 w-48 h-48 bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),e.jsxs("div",{className:"p-8 overflow-y-auto flex-1 relative z-10",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-zinc-700 shadow-lg",children:e.jsx(a.Key,{size:32,className:"text-amber-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2 cinematic-font",children:x?"How to Get a Key":b?"Manage API Key":"Activate Studio"}),e.jsx("p",{className:"text-sm text-zinc-400",children:x?"Follow these 3 simple steps to get your free key from Google.":"Connect your Google Gemini AI to start generating scripts, images, and videos."})]}),x?e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-zinc-800 border border-zinc-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-zinc-300 mb-1",children:["Go to ",e.jsx("strong",{children:"Google AI Studio"}),"."]}),e.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-xs bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-full transition-colors",children:["Open Link ",e.jsx(a.ExternalLink,{size:12})]})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-zinc-800 border border-zinc-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-zinc-300 mb-1",children:["Click the blue ",e.jsx("strong",{children:'"Get API Key"'})," or ",e.jsx("strong",{children:'"Create API Key"'})," button."]}),e.jsx("p",{className:"text-[10px] text-zinc-500",children:"You may need to sign in with your Google account first."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-zinc-800 border border-zinc-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-zinc-300 mb-1",children:["Copy the key starting with ",e.jsx("code",{children:"AIza..."})]}),e.jsx("p",{className:"text-[10px] text-zinc-500",children:"Come back here and paste it in the box."})]})]})]}),e.jsxs(I,{variant:"secondary",className:"w-full",onClick:()=>c(!1),children:[e.jsx(a.ChevronLeft,{size:16,className:"mr-2"})," I have my key"]})]}):e.jsxs("form",{onSubmit:m,className:"space-y-4 animate-in slide-in-from-left duration-300",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Google API Key"}),e.jsx("input",{type:"password",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg p-3 text-white text-sm focus:ring-2 focus:ring-amber-500 outline-none transition-all placeholder-zinc-700",placeholder:b?"••••••••••••••••••••":"Paste key here (starts with AIzaSy...)",value:o,onChange:S=>n(S.target.value),autoFocus:!b})]}),!b&&e.jsxs("button",{type:"button",onClick:()=>c(!0),className:"w-full text-center text-xs text-amber-500 hover:text-amber-400 hover:underline py-2 flex items-center justify-center gap-1",children:[e.jsx(a.HelpCircle,{size:12})," I don't have a key, help me!"]}),e.jsxs("div",{className:"bg-zinc-800/50 p-3 rounded border border-zinc-700 flex gap-3 items-start",children:[e.jsx(a.ShieldCheck,{className:"text-green-500 shrink-0 mt-0.5",size:16}),e.jsx("p",{className:"text-[10px] text-zinc-400 leading-relaxed",children:"Your key is stored locally in your browser for this session. It is never sent to our servers."})]}),e.jsx(I,{variant:"accent",className:"w-full py-3 font-bold shadow-lg shadow-amber-900/20",children:b?"Update Key":"Save & Start"}),b&&e.jsx(I,{type:"button",variant:"danger",className:"w-full",onClick:p,children:"Disconnect / Remove Key"})]})]}),!l&&i&&e.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-zinc-600 hover:text-white transition-colors z-20",children:e.jsx(a.X,{size:20})})]})})},zt=()=>({title:"",genre:"",logline:"",director:"",language:"en",fullScript:"",projectType:K.FEATURE_FILM,serviceType:le.PITCH_DECK,showcaseScenes:[],characters:[],posters:[],audioAssets:[],videos:[],castList:[],crewList:[{id:"c1",role:"Director",name:""},{id:"c2",role:"Screenwriter",name:""},{id:"c3",role:"Producer",name:""},{id:"c4",role:"Cinematographer (DOP)",name:""},{id:"c5",role:"Editor",name:""}],vaultItems:[]}),Zi=()=>{const[s,i]=d.useState(!1),[l,o]=d.useState(!1),[n,x]=d.useState(null),[c,m]=d.useState(X.SETUP),[p,b]=d.useState("DECK"),[S,h]=d.useState("SERVICES"),[r,j]=d.useState(zt()),[A,U]=d.useState([]),[G,Y]=d.useState(null),[de,F]=d.useState("DECK"),[oe,he]=d.useState("DECK"),[y,P]=d.useState(!1),[H,ae]=d.useState(!1),[q,ue]=d.useState(!1),[xe,je]=d.useState(!1),[ke,Ne]=d.useState(!1),[Ie,fe]=d.useState(!1),[Ae,ie]=d.useState(!1),[ve,Te]=d.useState(null),[Z,L]=d.useState(!1),[V,se]=d.useState([]),J=(u,f="info",C)=>{const D=Date.now().toString();se(O=>[...O,{id:D,type:f,title:u,message:C}]),setTimeout(()=>{se(O=>O.filter(ee=>ee.id!==D))},4e3)},Ye=u=>{se(f=>f.filter(C=>C.id!==u))},$=d.useRef(r),ye=d.useRef(A),ze=d.useRef(G),pe=d.useRef(ve);d.useEffect(()=>{$.current=r},[r]),d.useEffect(()=>{ye.current=A},[A]),d.useEffect(()=>{ze.current=G},[G]),d.useEffect(()=>{pe.current=ve},[ve]),d.useEffect(()=>{const u=f=>{(A.length>0||r.title)&&(f.preventDefault(),f.returnValue="")};return window.addEventListener("beforeunload",u),()=>window.removeEventListener("beforeunload",u)},[A.length,r.title]),d.useEffect(()=>{const u=localStorage.getItem("cinepitch_auth_session"),f=localStorage.getItem("cinepitch_user_profile");u&&(i(!0),f&&x(JSON.parse(f))),o(!0),localStorage.getItem("cinepitch_project_meta")&&P(!0),localStorage.getItem("gemini_api_key")||u&&ie(!0)},[]),d.useEffect(()=>{const u=setInterval(()=>{pe.current&&(console.log("Auto-Save Triggered..."),J("Auto-Saving...","info"),Fe())},3e5);return()=>clearInterval(u)},[]);const Ke=u=>{localStorage.setItem("cinepitch_auth_session","true");const f=u.toLowerCase()==="noushadart@gmail.com",C=u.split("@")[0],D=C.charAt(0).toUpperCase()+C.slice(1),O={name:D,email:u,role:f?"ADMIN":"USER",credits:f?999999:1e3,phone:""};x(O),localStorage.setItem("cinepitch_user_profile",JSON.stringify(O)),i(!0),J(`Welcome back, ${D}!`,"success"),localStorage.getItem("gemini_api_key")||ie(!0)},Ue=u=>{if(!n)return;const f={...n,...u};if(u.email){const C=u.email.toLowerCase()==="noushadart@gmail.com";f.role=C?"ADMIN":"USER"}x(f),localStorage.setItem("cinepitch_user_profile",JSON.stringify(f)),J("Profile updated successfully","success")},ce=()=>{localStorage.removeItem("cinepitch_auth_session"),localStorage.removeItem("cinepitch_user_profile"),j(zt()),U([]),Y(null),P(!1),Te(null),h("SERVICES"),F("DECK"),he("DECK"),x(null),i(!1),m(X.SETUP)},Fe=async()=>{if(Z)return;L(!0);const u=!!pe.current;u||(document.title="Saving... Do not close",J("Packing project assets...","info","Please choose a location to save your .cinepitch file."));try{const f=await Me.save($.current,ye.current,ze.current,pe.current);f&&Te(f),localStorage.setItem("cinepitch_project_meta",JSON.stringify({title:$.current.title,lastSaved:new Date().toISOString()})),P(!0),J(u?"Auto-Saved Successfully":"Project Saved","success",u?void 0:"Your work is secure. We will auto-save to this file.")}catch(f){console.error("SAVE FAILED:",f),J("Save Failed","error",f.message)}finally{document.title="AICINEMASUITE | AI Film Studio",L(!1)}},Se=async u=>{var D,O;const f=(D=u.target.files)==null?void 0:D[0];if(!f)return;const C=document.title;document.title="Loading Project...",J("Unpacking project file...","info");try{const ee=await Me.load(f);if(ee){j(ee.project),U(ee.slides),Y(ee.activeSlideId||((O=ee.slides[0])==null?void 0:O.id)),Te(null);const Oe="DECK";F(Oe),he(Oe),m(X.STUDIO),P(!0),J("Project Loaded","success","Click Save to enable Auto-Save.")}}catch(ee){console.error("LOAD FAILED:",ee),J("Load Failed","error",ee.message)}finally{document.title=C,u.target.value=""}},qe=()=>{alert("Please use 'Open Project File' to load your full .cinepitch file. Browser auto-resume is disabled for large projects to prevent crashing.")},Re=()=>{fe(!0),J("Generating PDF...","info","Please wait while we render your slides.");const u=document.getElementById("export-container"),f={margin:[10,10],filename:`${r.title}_PitchDeck.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"landscape"}};window.html2pdf?window.html2pdf().set(f).from(u).save().then(()=>{fe(!1),Ne(!1),J("PDF Exported","success")}):(alert("PDF Engine not loaded. Please refresh."),fe(!1))},Ge=async()=>{var ee,Oe,Ee,mt;fe(!0),J("Zipping Assets...","info");const u=new window.JSZip,f=u.folder("images"),C=u.folder("vault");let D=0;const O=(W,re)=>{if(W&&W.startsWith("data:")){const et=W.split(",")[1];f.file(re,et,{base64:!0}),D++}};if(A.forEach((W,re)=>O(W.imageUrl,`Slide_${re+1}.png`)),(ee=r.showcaseScenes)==null||ee.forEach((W,re)=>O(W.imageUrl,`Scene_${re+1}.png`)),(Oe=r.characters)==null||Oe.forEach(W=>O(W.imageUrl,`Char_${W.name}.png`)),(Ee=r.posters)==null||Ee.forEach((W,re)=>O(W.imageUrl,`Poster_${re+1}.png`)),(mt=r.castList)==null||mt.forEach((W,re)=>{O(W.characterImage,`Cast_Char_${re+1}.png`),O(W.actorImage,`Cast_Actor_${re+1}.png`)}),r.vaultItems&&r.vaultItems.forEach((W,re)=>{if(W.url&&W.url.startsWith("data:")){const et=W.url.split(",")[1];C.file(W.fileName||`Vault_${re}`,et,{base64:!0}),D++}}),D===0){J("No images found","warning","Generate some content first!"),fe(!1);return}u.generateAsync({type:"blob"}).then(W=>{window.saveAs(W,`${r.title}_Assets.zip`),fe(!1),Ne(!1),J("Assets Downloaded","success")})},Ce=()=>{h("SERVICES"),m(X.SETUP)},$e=()=>{j(zt()),U([]),Y(null),Te(null)},[we,me]=d.useState(!1),[v,w]=d.useState(!1),[k,M]=d.useState(!1),[T,Q]=d.useState(!1),[te,it]=d.useState(null),rt=u=>{if(!r.title)return;const f=os[r.projectType]||os[K.FEATURE_FILM];if(A.length===0){const C=f.map((D,O)=>({id:`slide-${Date.now()}-${O}`,title:D.title,description:D.description,placeholder:D.placeholderText,content:"",imagePrompt:"",imageUrl:null}));U(C),Y(C[0].id)}F(u),he(u),m(X.STUDIO)},gt=()=>{const u={id:`slide-${Date.now()}`,title:"New Custom Slide",content:"",imagePrompt:"",imageUrl:null,isCustom:!0,description:"Use this slide for additional details, research, or custom content.",placeholder:"Type your content here..."};U([...A,u])},Be=(u,f)=>{U(A.map(C=>C.id===u?{...C,...f}:C))},Je=()=>A.find(u=>u.id===G),Pe=u=>{j(f=>({...f,characters:[...f.characters||[],u]}))},bt=(u,f)=>{j(C=>{var D;return{...C,characters:(D=C.characters)==null?void 0:D.map(O=>O.id===u?{...O,...f}:O)}})},Le=u=>{j(f=>({...f,posters:[...f.posters||[],u]}))},Xe=(u,f)=>{j(C=>{var D;return{...C,posters:(D=C.posters)==null?void 0:D.map(O=>O.id===u?{...O,...f}:O)}})},nt=(u,f)=>{j(C=>{var D;return{...C,showcaseScenes:(D=C.showcaseScenes)==null?void 0:D.map(O=>O.id===u?{...O,...f}:O)}})},Qe=u=>{j(f=>({...f,audioAssets:[...f.audioAssets||[],u]}))},ft=u=>{j(f=>({...f,videos:[...f.videos||[],u]}))},lt=u=>{j(f=>{var C;return{...f,videos:(C=f.videos)==null?void 0:C.filter(D=>D.id!==u)}})},Ze=(u,f)=>{it(f),u.dataTransfer.effectAllowed="move"},ot=(u,f)=>{u.preventDefault()},He=(u,f)=>{if(u.preventDefault(),te===null||te===f)return;const C=[...A],[D]=C.splice(te,1);C.splice(f,0,D),U(C),it(null)},vt=async u=>{const f=Je();if(f){w(!0);try{const C=await Rs(r,f.title,f.content,u);Be(f.id,{imagePrompt:C})}finally{w(!1)}}},ct=async()=>{const u=Je();if(u){me(!0);try{const f=await Si(r,u.title,u.content);Be(u.id,{content:f})}finally{me(!1)}}},jt=async()=>{var f;const u=Je();if(!(!u||!u.imagePrompt)){M(!0);try{const C=await Ps(u.imagePrompt,"16:9");C?Be(u.id,{imageUrl:C}):J("Image Generation Failed","error","Please check your API key.")}catch(C){J("Image Error","error",C.message||"Failed to generate image."),(f=C.message)!=null&&f.includes("API Key")&&ie(!0)}finally{M(!1)}}},dt=async()=>{Q(!0);try{const u=await Ai(r,r.showcaseScenes||[]);u?j(f=>({...f,showcaseScenes:[...f.showcaseScenes||[],u]})):J("Scene Gen Failed","error")}finally{Q(!1)}},xt=u=>{var O;const f=Je();if(!f||!((O=u.target.files)!=null&&O[0]))return;const C=u.target.files[0],D=new FileReader;D.onloadend=()=>{Be(f.id,{imageUrl:D.result})},D.readAsDataURL(C)},Ve=Ct[r.language],We=()=>e.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 cinematic-font",children:"Export Project"}),e.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Choose your export format."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:Re,disabled:Ie,className:"w-full p-4 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded-lg flex items-center gap-4 transition-all group",children:[e.jsx("div",{className:"bg-red-900/30 p-3 rounded-full text-red-500 group-hover:text-white group-hover:bg-red-600 transition-colors",children:e.jsx(a.FileText,{size:24})}),e.jsx("div",{className:"text-left",children:e.jsx("h4",{className:"font-bold text-white",children:"Download as PDF"})})]}),e.jsxs("button",{onClick:Ge,disabled:Ie,className:"w-full p-4 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded-lg flex items-center gap-4 transition-all group",children:[e.jsx("div",{className:"bg-blue-900/30 p-3 rounded-full text-blue-500 group-hover:text-white group-hover:bg-blue-600 transition-colors",children:e.jsx(a.Image,{size:24})}),e.jsx("div",{className:"text-left",children:e.jsx("h4",{className:"font-bold text-white",children:"Download Image Pack (ZIP)"})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(I,{variant:"ghost",onClick:()=>Ne(!1),disabled:Ie,children:"Cancel"})})]})}),De=()=>{var f;const u=localStorage.getItem("cinepitch_youtube_link")||"https://www.youtube.com/";return e.jsxs("div",{className:"absolute top-0 right-0 p-4 z-50 flex gap-3 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mr-4 bg-zinc-900/80 p-1 pr-3 rounded-full border border-zinc-800",children:[e.jsx("span",{className:"bg-amber-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",children:"Beta v1.0"}),e.jsxs("button",{onClick:()=>ue(!0),className:"text-xs text-zinc-400 hover:text-white flex items-center gap-1 transition-colors",children:[e.jsx(a.MessageSquare,{size:12})," Feedback"]})]}),e.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-zinc-400 hover:text-white hover:bg-zinc-800 rounded-full transition-colors border border-transparent hover:border-zinc-700 mr-2",children:[e.jsx(a.Youtube,{size:14,className:"text-red-600"}),e.jsx("span",{children:"Tutorials"})]}),e.jsxs("div",{className:"flex bg-zinc-900 border border-zinc-800 rounded-full p-1 mr-2",children:[e.jsx("button",{onClick:()=>j({...r,language:"en"}),className:`px-3 py-1 rounded-full text-xs font-bold transition-colors ${r.language==="en"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"EN"}),e.jsx("button",{onClick:()=>j({...r,language:"ml"}),className:`px-3 py-1 rounded-full text-xs font-bold transition-colors ${r.language==="ml"?"bg-amber-600 text-white":"text-zinc-500 hover:text-white"}`,children:"ML"})]}),e.jsx("button",{onClick:()=>ae(!0),className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(a.HelpCircle,{size:24})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>je(!xe),className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-red-600 flex items-center justify-center text-white font-bold shadow-lg hover:ring-2 hover:ring-amber-500 transition-all text-xs overflow-hidden",children:((f=n==null?void 0:n.name)==null?void 0:f.charAt(0))||"U"}),xe&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl py-1 z-50 animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-zinc-800 mb-1",children:[e.jsx("p",{className:"text-white font-bold text-sm truncate",children:(n==null?void 0:n.name)||"Guest"}),e.jsx("p",{className:"text-zinc-500 text-[10px] truncate",children:(n==null?void 0:n.email)||""}),(n==null?void 0:n.role)==="ADMIN"&&e.jsx("span",{className:"text-[9px] bg-red-600 text-white px-1 rounded ml-1",children:"OWNER"})]}),e.jsxs("button",{onClick:()=>{ie(!0),je(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(a.Key,{size:14})," Manage API Key"]}),e.jsxs("button",{onClick:()=>{m(X.PROFILE),je(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(a.User,{size:14})," ",Ve.myProfile]}),e.jsxs("button",{onClick:()=>{m(X.ADMIN),je(!1)},className:"w-full text-left px-4 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(a.Settings,{size:14}),(n==null?void 0:n.role)==="ADMIN"?"System Admin":"Project Settings"]}),e.jsxs("button",{onClick:ce,className:"w-full text-left px-4 py-2 text-red-400 hover:text-red-300 hover:bg-zinc-800 text-sm flex items-center gap-2",children:[e.jsx(a.LogOut,{size:14})," ",Ve.logout]})]})]})]})};return l?s?e.jsxs("div",{className:"relative font-sans text-zinc-200 selection:bg-amber-500/30",children:[e.jsx(Xi,{toasts:V,removeToast:Ye}),e.jsx(Ji,{}),Ae&&e.jsx(Qi,{onSave:u=>{localStorage.setItem("gemini_api_key",u),ie(!1),window.location.reload()},onClose:()=>ie(!1),isMandatory:!localStorage.getItem("gemini_api_key")}),e.jsxs("div",{id:"export-container",className:"fixed left-[9999px] top-0 w-[1280px]",children:[e.jsxs("div",{className:"w-full h-[720px] relative bg-black flex flex-col items-center justify-center text-center p-20 break-after-page",children:[e.jsx("h1",{className:"text-8xl font-bold text-white mb-6 uppercase tracking-tighter cinematic-font",children:r.title}),e.jsxs("p",{className:"text-3xl text-amber-500 uppercase tracking-widest mb-12",children:[r.genre," | ",r.director]}),e.jsx("div",{className:"max-w-4xl text-2xl text-zinc-300 leading-relaxed",children:r.logline})]}),A.map((u,f)=>e.jsxs("div",{className:"w-full h-full relative bg-black flex break-after-page overflow-hidden",children:[e.jsx("div",{className:"w-1/2 h-full relative",children:u.imageUrl?e.jsx("img",{src:u.imageUrl,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-zinc-900 flex items-center justify-center text-zinc-700",children:"NO VISUAL"})}),e.jsxs("div",{className:"w-1/2 h-full p-16 bg-zinc-950 border-l border-zinc-800 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-5xl font-bold text-white mb-8 cinematic-font",children:u.title}),e.jsx("p",{className:"text-xl text-zinc-300 leading-relaxed whitespace-pre-wrap",children:u.content}),e.jsxs("div",{className:"mt-auto pt-8 border-t border-zinc-800 text-zinc-500 flex justify-between",children:[e.jsx("span",{children:r.title}),e.jsxs("span",{children:["Page ",f+1]})]})]})]},u.id))]}),c===X.SETUP&&e.jsx(De,{}),H&&e.jsx(ms,{onClose:()=>ae(!1)}),q&&e.jsx(qi,{onClose:()=>ue(!1)}),ke&&e.jsx(We,{}),c===X.SETUP&&e.jsx(Gi,{project:r,setProject:j,onStart:rt,onResume:y?qe:void 0,onLoadFromFile:Se,hasSavedProject:y,step:S,setStep:h,onReset:$e}),c===X.STUDIO&&e.jsx("div",{className:"animate-in fade-in duration-500",children:e.jsx(Bi,{project:r,slides:A,activeSlideId:G,setActiveSlideId:Y,onUpdateSlide:Be,onAddSlide:gt,onPresentationMode:u=>{b(u||"DECK"),m(X.PRESENTATION)},onStructureMode:()=>m(X.SETUP),onGoHome:Ce,onDragStart:Ze,onDragOver:ot,onDrop:He,onGenerateContent:ct,isGeneratingContent:we,onAutoPrompt:vt,isGeneratingPrompt:v,onGenerateImage:jt,isGeneratingImage:k,onFileUpload:xt,showcaseScenes:r.showcaseScenes||[],onGenerateNextScene:dt,isGeneratingScene:T,onUpdateScene:nt,onAddCharacter:Pe,onUpdateCharacter:bt,onAddPoster:Le,onUpdatePoster:Xe,onAddAudio:Qe,onAddVideo:ft,onDeleteVideo:lt,initialTab:de,onTabChange:u=>he(u),onSave:Fe,onExport:()=>Ne(!0),onOpenProfile:()=>m(X.PROFILE),onOpenAdmin:()=>m(X.ADMIN),onLogout:ce,onOpenFAQ:()=>ae(!0),currentUser:n,onUpdateProject:u=>j(f=>({...f,...u}))})}),c===X.PRESENTATION&&(p==="STORYBOARD"?e.jsx(Vi,{project:r,scenes:r.showcaseScenes||[],onClose:()=>m(X.STUDIO)}):e.jsx(Hi,{project:r,slides:A,activeSlideId:G,setActiveSlideId:Y,onClose:()=>m(X.STUDIO)})),c===X.PROFILE&&e.jsx(Wi,{onBack:()=>m(X.STUDIO),user:n,onUpdateUser:Ue}),c===X.ADMIN&&e.jsx(Yi,{project:r,setProject:j,slides:A,setSlides:U,onBack:()=>m(X.STUDIO),user:n})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ki,{onLogin:Ke}),H&&e.jsx(ms,{onClose:()=>ae(!1)}),e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsx("button",{onClick:()=>ae(!0),className:"text-xs text-zinc-500 hover:text-amber-500 transition-colors",children:"Contact & Support"})})]}):null},Ls=document.getElementById("root");if(!Ls)throw new Error("Could not find root element to mount to");const er=St.createRoot(Ls);er.render(e.jsx(hs.StrictMode,{children:e.jsx(Zi,{})}));
